(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["fast-order-plugin"],{

/***/ "4lRj":
/*!*******************************************************************************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/plugin/fast-order-adjustable-form/fast-order-adjustable-form.plugin.js ***!
  \*******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FastOrderAdjustableFormPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var _form_row_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form-row-handler */ \"f+fv\");\n/* harmony import */ var _extensions_plugin_option_check__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../extensions/plugin-option-check */ \"EkxF\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar FastOrderAdjustableFormPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(FastOrderAdjustableFormPlugin, _Plugin);\n\n  function FastOrderAdjustableFormPlugin() {\n    _classCallCheck(this, FastOrderAdjustableFormPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FastOrderAdjustableFormPlugin).apply(this, arguments));\n  }\n\n  _createClass(FastOrderAdjustableFormPlugin, [{\n    key: \"init\",\n    value: function init() {\n      _extensions_plugin_option_check__WEBPACK_IMPORTED_MODULE_2__[\"default\"].CheckProvidedOptions(this.options, FastOrderAdjustableFormPlugin.requiredOptions, this.constructor.name);\n      var _this$options = this.options,\n          placeholders = _this$options.placeholders,\n          fieldNameSchemas = _this$options.fieldNameSchemas;\n      this._formRowHandler = new _form_row_handler__WEBPACK_IMPORTED_MODULE_1__[\"default\"](placeholders.productNumber, placeholders.amount, fieldNameSchemas.productNumber, fieldNameSchemas.amount, this._formInputInput.bind(this)); // create the first row if none exist\n\n      if (this._getCurrentFormRowCount() === 0) this.appendFormRow();\n    }\n  }, {\n    key: \"appendFormRow\",\n    value: function appendFormRow() {\n      var formRow = this._formRowHandler.createFormRow(this._getCurrentFormRowCount());\n\n      this.el.append(formRow);\n    }\n  }, {\n    key: \"_getCurrentFormRowCount\",\n    value: function _getCurrentFormRowCount() {\n      return this.el.querySelectorAll(\".\".concat(_form_row_handler__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ROW_CONTAINER_CLASS)).length;\n    }\n  }, {\n    key: \"_getSchemaTestRegex\",\n    value: function _getSchemaTestRegex(schema) {\n      // create a test regex from a schema using $i as placeholder for the index.\n      // index is a match group, so it can be used to get the index out of a converted schema.\n      // access it on array offset 1 of the match result.\n      return new RegExp(schema.replace(/\\$i/, '([0-9]+)'));\n    }\n  }, {\n    key: \"_formInputInput\",\n    value: function _formInputInput(event) {\n      // only handle events, triggered by product number fields\n      var productFieldNameRegex = this._getSchemaTestRegex(this.options.fieldNameSchemas.productNumber);\n\n      if (!productFieldNameRegex.test(event.target.name)) return; // only continue if field is in the last row\n\n      var index = Number.parseInt(event.target.name.match(productFieldNameRegex)[1]);\n      if (index !== this._getCurrentFormRowCount() - 1) return; // append new row\n\n      this.appendFormRow();\n    }\n  }]);\n\n  return FastOrderAdjustableFormPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n_defineProperty(FastOrderAdjustableFormPlugin, \"requiredOptions\", ['placeholders.productNumber', 'placeholders.amount', 'fieldNameSchemas.productNumber', 'fieldNameSchemas.amount']);\n\n_defineProperty(FastOrderAdjustableFormPlugin, \"options\", {\n  placeholders: {\n    productNumber: null,\n    amount: null\n  },\n  fieldNameSchemas: {\n    productNumber: null,\n    amount: null\n  }\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNGxSai5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvcGx1Z2luL2Zhc3Qtb3JkZXItYWRqdXN0YWJsZS1mb3JtL2Zhc3Qtb3JkZXItYWRqdXN0YWJsZS1mb3JtLnBsdWdpbi5qcz8xMjMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbHVnaW4gZnJvbSBcInNyYy9wbHVnaW4tc3lzdGVtL3BsdWdpbi5jbGFzc1wiO1xuaW1wb3J0IEZvcm1Sb3dIYW5kbGVyIGZyb20gXCIuL2Zvcm0tcm93LWhhbmRsZXJcIjtcbmltcG9ydCBQbHVnaW5PcHRpb25DaGVjayBmcm9tIFwiLi4vZXh0ZW5zaW9ucy9wbHVnaW4tb3B0aW9uLWNoZWNrXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZhc3RPcmRlckFkanVzdGFibGVGb3JtUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblxuICAgIHN0YXRpYyByZXF1aXJlZE9wdGlvbnMgPSBbXG4gICAgICAgICdwbGFjZWhvbGRlcnMucHJvZHVjdE51bWJlcicsXG4gICAgICAgICdwbGFjZWhvbGRlcnMuYW1vdW50JyxcbiAgICAgICAgJ2ZpZWxkTmFtZVNjaGVtYXMucHJvZHVjdE51bWJlcicsXG4gICAgICAgICdmaWVsZE5hbWVTY2hlbWFzLmFtb3VudCcsXG4gICAgXTtcblxuICAgIHN0YXRpYyBvcHRpb25zID0ge1xuICAgICAgICBwbGFjZWhvbGRlcnM6IHtcbiAgICAgICAgICAgIHByb2R1Y3ROdW1iZXI6IG51bGwsXG4gICAgICAgICAgICBhbW91bnQ6IG51bGxcbiAgICAgICAgfSxcblxuICAgICAgICBmaWVsZE5hbWVTY2hlbWFzOiB7XG4gICAgICAgICAgICBwcm9kdWN0TnVtYmVyOiBudWxsLFxuICAgICAgICAgICAgYW1vdW50OiBudWxsXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgUGx1Z2luT3B0aW9uQ2hlY2suQ2hlY2tQcm92aWRlZE9wdGlvbnModGhpcy5vcHRpb25zLCBGYXN0T3JkZXJBZGp1c3RhYmxlRm9ybVBsdWdpbi5yZXF1aXJlZE9wdGlvbnMsIHRoaXMuY29uc3RydWN0b3IubmFtZSk7XG5cbiAgICAgICAgY29uc3Qge3BsYWNlaG9sZGVycywgZmllbGROYW1lU2NoZW1hc30gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2Zvcm1Sb3dIYW5kbGVyID0gbmV3IEZvcm1Sb3dIYW5kbGVyKFxuICAgICAgICAgICAgcGxhY2Vob2xkZXJzLnByb2R1Y3ROdW1iZXIsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcnMuYW1vdW50LFxuICAgICAgICAgICAgZmllbGROYW1lU2NoZW1hcy5wcm9kdWN0TnVtYmVyLFxuICAgICAgICAgICAgZmllbGROYW1lU2NoZW1hcy5hbW91bnQsXG4gICAgICAgICAgICB0aGlzLl9mb3JtSW5wdXRJbnB1dC5iaW5kKHRoaXMpXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBmaXJzdCByb3cgaWYgbm9uZSBleGlzdFxuICAgICAgICBpZiAodGhpcy5fZ2V0Q3VycmVudEZvcm1Sb3dDb3VudCgpID09PSAwKVxuICAgICAgICAgICAgdGhpcy5hcHBlbmRGb3JtUm93KCk7XG4gICAgfVxuXG4gICAgYXBwZW5kRm9ybVJvdygpIHtcbiAgICAgICAgY29uc3QgZm9ybVJvdyA9IHRoaXMuX2Zvcm1Sb3dIYW5kbGVyLmNyZWF0ZUZvcm1Sb3codGhpcy5fZ2V0Q3VycmVudEZvcm1Sb3dDb3VudCgpKTtcbiAgICAgICAgdGhpcy5lbC5hcHBlbmQoZm9ybVJvdyk7XG4gICAgfVxuXG4gICAgX2dldEN1cnJlbnRGb3JtUm93Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke0Zvcm1Sb3dIYW5kbGVyLlJPV19DT05UQUlORVJfQ0xBU1N9YCkubGVuZ3RoO1xuICAgIH1cblxuICAgIF9nZXRTY2hlbWFUZXN0UmVnZXgoc2NoZW1hKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIHRlc3QgcmVnZXggZnJvbSBhIHNjaGVtYSB1c2luZyAkaSBhcyBwbGFjZWhvbGRlciBmb3IgdGhlIGluZGV4LlxuICAgICAgICAvLyBpbmRleCBpcyBhIG1hdGNoIGdyb3VwLCBzbyBpdCBjYW4gYmUgdXNlZCB0byBnZXQgdGhlIGluZGV4IG91dCBvZiBhIGNvbnZlcnRlZCBzY2hlbWEuXG4gICAgICAgIC8vIGFjY2VzcyBpdCBvbiBhcnJheSBvZmZzZXQgMSBvZiB0aGUgbWF0Y2ggcmVzdWx0LlxuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChzY2hlbWEucmVwbGFjZSgvXFwkaS8sICcoWzAtOV0rKScpKTtcbiAgICB9XG5cbiAgICBfZm9ybUlucHV0SW5wdXQoZXZlbnQpIHtcbiAgICAgICAgLy8gb25seSBoYW5kbGUgZXZlbnRzLCB0cmlnZ2VyZWQgYnkgcHJvZHVjdCBudW1iZXIgZmllbGRzXG4gICAgICAgIGNvbnN0IHByb2R1Y3RGaWVsZE5hbWVSZWdleCA9IHRoaXMuX2dldFNjaGVtYVRlc3RSZWdleCh0aGlzLm9wdGlvbnMuZmllbGROYW1lU2NoZW1hcy5wcm9kdWN0TnVtYmVyKTtcbiAgICAgICAgaWYgKCFwcm9kdWN0RmllbGROYW1lUmVnZXgudGVzdChldmVudC50YXJnZXQubmFtZSkpIHJldHVybjtcblxuICAgICAgICAvLyBvbmx5IGNvbnRpbnVlIGlmIGZpZWxkIGlzIGluIHRoZSBsYXN0IHJvd1xuICAgICAgICBjb25zdCBpbmRleCA9IE51bWJlci5wYXJzZUludChldmVudC50YXJnZXQubmFtZS5tYXRjaChwcm9kdWN0RmllbGROYW1lUmVnZXgpWzFdKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAodGhpcy5fZ2V0Q3VycmVudEZvcm1Sb3dDb3VudCgpIC0gMSkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gYXBwZW5kIG5ldyByb3dcbiAgICAgICAgdGhpcy5hcHBlbmRGb3JtUm93KCk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFxQkE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFRQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTs7OztBQWxFQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBVUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQU5BO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4lRj\n");

/***/ }),

/***/ "EkxF":
/*!*************************************************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/plugin/extensions/plugin-option-check.js ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PluginOptionCheck; });\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PluginOptionCheck = /*#__PURE__*/function () {\n  function PluginOptionCheck() {\n    _classCallCheck(this, PluginOptionCheck);\n  }\n\n  _createClass(PluginOptionCheck, null, [{\n    key: \"CheckProvidedOptions\",\n    value: function CheckProvidedOptions(rootOptionsElement, keysToCheck, pluginName) {\n      var keyPrefix = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n      // object to store keys that need to be processed on the next recursion\n      var toCheckNext = {}; // iterate all provided keys\n\n      keysToCheck.forEach(function (key) {\n        // if key includes a dot, prepare it for next recursion\n        if (key.includes('.')) {\n          var _key$split = key.split('.'),\n              _key$split2 = _toArray(_key$split),\n              prefix = _key$split2[0],\n              parts = _key$split2.slice(1); // split prefix from the remaining key\n\n\n          if (!(prefix in toCheckNext)) toCheckNext[prefix] = []; // create empty array in toCheckNext if this is the first key on that namespace\n\n          toCheckNext[prefix].push(parts.join('.')); // add remaining key to check for next recursion\n\n          return; // don't do anything else in this recursion\n        } // if key doesn't include a dot, check if it exists on the current root options element\n\n\n        if (rootOptionsElement[key] === null) throw new Error(\"Required option '\".concat(keyPrefix + key, \"' missing for plugin \").concat(pluginName));\n      }); // if entries in toCheckNext exist, process them\n\n      if (Object.keys(toCheckNext).length > 0) {\n        Object.keys(toCheckNext).forEach(function (nextKeyPrefix) {\n          if (!(nextKeyPrefix in rootOptionsElement)) throw new Error(\"Required option namespace '\".concat(keyPrefix).concat(nextKeyPrefix, \".' missing for plugin \").concat(pluginName));\n          PluginOptionCheck.CheckProvidedOptions(rootOptionsElement[nextKeyPrefix], toCheckNext[nextKeyPrefix], pluginName, \"\".concat(keyPrefix).concat(nextKeyPrefix, \".\"));\n        });\n      }\n    }\n  }]);\n\n  return PluginOptionCheck;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRWt4Ri5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvcGx1Z2luL2V4dGVuc2lvbnMvcGx1Z2luLW9wdGlvbi1jaGVjay5qcz9jNDUzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsdWdpbk9wdGlvbkNoZWNrIHtcblxuICAgIHN0YXRpYyBDaGVja1Byb3ZpZGVkT3B0aW9ucyhyb290T3B0aW9uc0VsZW1lbnQsIGtleXNUb0NoZWNrLCBwbHVnaW5OYW1lLCBrZXlQcmVmaXggPSAnJykge1xuICAgICAgICAvLyBvYmplY3QgdG8gc3RvcmUga2V5cyB0aGF0IG5lZWQgdG8gYmUgcHJvY2Vzc2VkIG9uIHRoZSBuZXh0IHJlY3Vyc2lvblxuICAgICAgICBjb25zdCB0b0NoZWNrTmV4dCA9IHt9O1xuXG4gICAgICAgIC8vIGl0ZXJhdGUgYWxsIHByb3ZpZGVkIGtleXNcbiAgICAgICAga2V5c1RvQ2hlY2suZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgLy8gaWYga2V5IGluY2x1ZGVzIGEgZG90LCBwcmVwYXJlIGl0IGZvciBuZXh0IHJlY3Vyc2lvblxuICAgICAgICAgICAgaWYgKGtleS5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3ByZWZpeCwgLi4ucGFydHNdID0ga2V5LnNwbGl0KCcuJyk7IC8vIHNwbGl0IHByZWZpeCBmcm9tIHRoZSByZW1haW5pbmcga2V5XG4gICAgICAgICAgICAgICAgaWYgKCEocHJlZml4IGluIHRvQ2hlY2tOZXh0KSkgdG9DaGVja05leHRbcHJlZml4XSA9IFtdOyAvLyBjcmVhdGUgZW1wdHkgYXJyYXkgaW4gdG9DaGVja05leHQgaWYgdGhpcyBpcyB0aGUgZmlyc3Qga2V5IG9uIHRoYXQgbmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgdG9DaGVja05leHRbcHJlZml4XS5wdXNoKHBhcnRzLmpvaW4oJy4nKSk7IC8vIGFkZCByZW1haW5pbmcga2V5IHRvIGNoZWNrIGZvciBuZXh0IHJlY3Vyc2lvblxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZG9uJ3QgZG8gYW55dGhpbmcgZWxzZSBpbiB0aGlzIHJlY3Vyc2lvblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBrZXkgZG9lc24ndCBpbmNsdWRlIGEgZG90LCBjaGVjayBpZiBpdCBleGlzdHMgb24gdGhlIGN1cnJlbnQgcm9vdCBvcHRpb25zIGVsZW1lbnRcbiAgICAgICAgICAgIGlmIChyb290T3B0aW9uc0VsZW1lbnRba2V5XSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVpcmVkIG9wdGlvbiAnJHtrZXlQcmVmaXggKyBrZXl9JyBtaXNzaW5nIGZvciBwbHVnaW4gJHtwbHVnaW5OYW1lfWApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiBlbnRyaWVzIGluIHRvQ2hlY2tOZXh0IGV4aXN0LCBwcm9jZXNzIHRoZW1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRvQ2hlY2tOZXh0KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0b0NoZWNrTmV4dCkuZm9yRWFjaChuZXh0S2V5UHJlZml4ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShuZXh0S2V5UHJlZml4IGluIHJvb3RPcHRpb25zRWxlbWVudCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWlyZWQgb3B0aW9uIG5hbWVzcGFjZSAnJHtrZXlQcmVmaXh9JHtuZXh0S2V5UHJlZml4fS4nIG1pc3NpbmcgZm9yIHBsdWdpbiAke3BsdWdpbk5hbWV9YCk7XG5cbiAgICAgICAgICAgICAgICBQbHVnaW5PcHRpb25DaGVjay5DaGVja1Byb3ZpZGVkT3B0aW9ucyhyb290T3B0aW9uc0VsZW1lbnRbbmV4dEtleVByZWZpeF0sIHRvQ2hlY2tOZXh0W25leHRLZXlQcmVmaXhdLCBwbHVnaW5OYW1lLCBgJHtrZXlQcmVmaXh9JHtuZXh0S2V5UHJlZml4fS5gKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7OztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///EkxF\n");

/***/ }),

/***/ "KKzX":
/*!******************************************************************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/plugin/fast-order-csv-upload/csv-upload-column-guesser.js ***!
  \******************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CsvUploadColumnGuesser; });\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CsvUploadColumnGuesser = /*#__PURE__*/function () {\n  function CsvUploadColumnGuesser() {\n    _classCallCheck(this, CsvUploadColumnGuesser);\n  }\n\n  _createClass(CsvUploadColumnGuesser, null, [{\n    key: \"GuessProductNumberColumn\",\n    value: function GuessProductNumberColumn(data) {\n      return CsvUploadColumnGuesser._guessColumn(data, CsvUploadColumnGuesser.ValidProductNumberRegex);\n    }\n  }, {\n    key: \"GuessQuantityColumn\",\n    value: function GuessQuantityColumn(data) {\n      return CsvUploadColumnGuesser._guessColumn(data, CsvUploadColumnGuesser.ValidQuantityRegex);\n    }\n  }, {\n    key: \"_guessColumn\",\n    value: function _guessColumn(data, regex) {\n      if (data.length === 0) return CsvUploadColumnGuesser.GuessFailedReturn; // calculate max amount of rows to be checked\n\n      var rowLength = data[0].length;\n      var maxRows = Math.floor(CsvUploadColumnGuesser.MaxFieldChecks / rowLength); // truncate input data if needed\n\n      if (data.length > maxRows) {\n        data = data.slice(0, maxRows);\n      }\n\n      var validColumns = _toConsumableArray(new Array(rowLength).keys());\n\n      for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n          var validColumnIndex = validColumns.indexOf(j);\n          if (validColumnIndex === -1) continue; // column was already invalidated\n\n          if (!regex.test(data[i][j])) {\n            validColumns.splice(validColumnIndex, 1);\n          }\n        }\n      } // if valid columns is empty, guess failed\n\n\n      if (validColumns.length === 0) return CsvUploadColumnGuesser.GuessFailedReturn; // if valid columns is not empty, return the first\n\n      return validColumns[0];\n    }\n  }]);\n\n  return CsvUploadColumnGuesser;\n}();\n\n_defineProperty(CsvUploadColumnGuesser, \"ValidQuantityRegex\", /^0*[1-9][0-9]*$/);\n\n_defineProperty(CsvUploadColumnGuesser, \"ValidProductNumberRegex\", /^[0-9a-f]{32}$/);\n\n_defineProperty(CsvUploadColumnGuesser, \"MaxFieldChecks\", 500);\n\n_defineProperty(CsvUploadColumnGuesser, \"GuessFailedReturn\", -1);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiS0t6WC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvcGx1Z2luL2Zhc3Qtb3JkZXItY3N2LXVwbG9hZC9jc3YtdXBsb2FkLWNvbHVtbi1ndWVzc2VyLmpzPzY3YzYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3N2VXBsb2FkQ29sdW1uR3Vlc3NlciB7XG5cbiAgICBzdGF0aWMgVmFsaWRRdWFudGl0eVJlZ2V4ID0gL14wKlsxLTldWzAtOV0qJC87XG4gICAgc3RhdGljIFZhbGlkUHJvZHVjdE51bWJlclJlZ2V4ID0gL15bMC05YS1mXXszMn0kLztcblxuICAgIHN0YXRpYyBNYXhGaWVsZENoZWNrcyA9IDUwMDtcblxuICAgIHN0YXRpYyBHdWVzc0ZhaWxlZFJldHVybiA9IC0xO1xuXG4gICAgc3RhdGljIEd1ZXNzUHJvZHVjdE51bWJlckNvbHVtbihkYXRhKSB7XG4gICAgICAgIHJldHVybiBDc3ZVcGxvYWRDb2x1bW5HdWVzc2VyLl9ndWVzc0NvbHVtbihkYXRhLCBDc3ZVcGxvYWRDb2x1bW5HdWVzc2VyLlZhbGlkUHJvZHVjdE51bWJlclJlZ2V4KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgR3Vlc3NRdWFudGl0eUNvbHVtbihkYXRhKSB7XG4gICAgICAgIHJldHVybiBDc3ZVcGxvYWRDb2x1bW5HdWVzc2VyLl9ndWVzc0NvbHVtbihkYXRhLCBDc3ZVcGxvYWRDb2x1bW5HdWVzc2VyLlZhbGlkUXVhbnRpdHlSZWdleCk7XG4gICAgfVxuXG4gICAgc3RhdGljIF9ndWVzc0NvbHVtbihkYXRhLCByZWdleCkge1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHJldHVybiBDc3ZVcGxvYWRDb2x1bW5HdWVzc2VyLkd1ZXNzRmFpbGVkUmV0dXJuO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBtYXggYW1vdW50IG9mIHJvd3MgdG8gYmUgY2hlY2tlZFxuICAgICAgICBjb25zdCByb3dMZW5ndGggPSBkYXRhWzBdLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbWF4Um93cyA9IE1hdGguZmxvb3IoQ3N2VXBsb2FkQ29sdW1uR3Vlc3Nlci5NYXhGaWVsZENoZWNrcyAvIHJvd0xlbmd0aCk7XG5cbiAgICAgICAgLy8gdHJ1bmNhdGUgaW5wdXQgZGF0YSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gbWF4Um93cykge1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMCwgbWF4Um93cyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWxpZENvbHVtbnMgPSBbLi4ubmV3IEFycmF5KHJvd0xlbmd0aCkua2V5cygpXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGF0YVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkQ29sdW1uSW5kZXggPSB2YWxpZENvbHVtbnMuaW5kZXhPZihqKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRDb2x1bW5JbmRleCA9PT0gLTEpIGNvbnRpbnVlOyAvLyBjb2x1bW4gd2FzIGFscmVhZHkgaW52YWxpZGF0ZWRcblxuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChkYXRhW2ldW2pdKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZENvbHVtbnMuc3BsaWNlKHZhbGlkQ29sdW1uSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHZhbGlkIGNvbHVtbnMgaXMgZW1wdHksIGd1ZXNzIGZhaWxlZFxuICAgICAgICBpZiAodmFsaWRDb2x1bW5zLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBDc3ZVcGxvYWRDb2x1bW5HdWVzc2VyLkd1ZXNzRmFpbGVkUmV0dXJuO1xuXG4gICAgICAgIC8vIGlmIHZhbGlkIGNvbHVtbnMgaXMgbm90IGVtcHR5LCByZXR1cm4gdGhlIGZpcnN0XG4gICAgICAgIHJldHVybiB2YWxpZENvbHVtbnNbMF07XG4gICAgfVxuXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7OztBQVNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTs7Ozs7O0FBaERBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///KKzX\n");

/***/ }),

/***/ "d5GL":
/*!*********************************************************************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/plugin/fast-order-csv-upload/fast-order-csv-upload.plugin.js ***!
  \*********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FastOrderCsvUploadPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var _extensions_plugin_option_check__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../extensions/plugin-option-check */ \"EkxF\");\n/* harmony import */ var _csv_upload_column_guesser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./csv-upload-column-guesser */ \"KKzX\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar FastOrderCsvUploadPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(FastOrderCsvUploadPlugin, _Plugin);\n\n  function FastOrderCsvUploadPlugin() {\n    _classCallCheck(this, FastOrderCsvUploadPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FastOrderCsvUploadPlugin).apply(this, arguments));\n  }\n\n  _createClass(FastOrderCsvUploadPlugin, [{\n    key: \"init\",\n    value: function init() {\n      // check for required options\n      _extensions_plugin_option_check__WEBPACK_IMPORTED_MODULE_1__[\"default\"].CheckProvidedOptions(this.options, FastOrderCsvUploadPlugin.requiredOptions, this.constructor.name); // get control elements related to this plugin\n\n      this._getRelatedControls(); // check if the required elements could be found\n\n\n      this._checkRequiredElements({\n        '_elements.csvFileInput': this._elements.csvFileInput,\n        '_elements.csvInputLabel': this._elements.csvInputLabel,\n        '_elements.importButton': this._elements.importButton,\n        '_elements.productNumberColumnSelect': this._elements.productNumberColumnSelect,\n        '_elements.amountColumnSelect': this._elements.amountColumnSelect,\n        '_elements.invalidFeedback.csvFileInput': this._elements.invalidFeedback.csvFileInput,\n        '_elements.invalidFeedback.productNumber': this._elements.invalidFeedback.productNumber,\n        '_elements.invalidFeedback.amount': this._elements.invalidFeedback.amount,\n        '_elements.manualInputFormTabControl': this._elements.manualInputFormTabControl,\n        '_elements.manualInputFormInputList': this._elements.manualInputFormInputList\n      }); // store default label text\n\n\n      this._defaultCsvInputLabelText = this._elements.csvInputLabel.innerText; // create class variable for imported data\n\n      this._importData = {}; // create class variable for column selects status\n\n      this._columnSelectsValid = false; // disable column selects and import button\n\n      this._elements.productNumberColumnSelect.setAttribute('disabled', true);\n\n      this._elements.amountColumnSelect.setAttribute('disabled', true);\n\n      this._elements.importButton.setAttribute('disabled', true); // add event listeners\n\n\n      this._addListeners();\n    }\n  }, {\n    key: \"_checkRequiredElements\",\n    value: function _checkRequiredElements(requiredElements) {\n      var _this = this;\n\n      Object.keys(requiredElements).forEach(function (code) {\n        if (!requiredElements[code]) throw new Error(\"Could not find '\".concat(code, \"' for plugin \").concat(_this.constructor.name));\n      });\n    }\n  }, {\n    key: \"_getRelatedControls\",\n    value: function _getRelatedControls() {\n      // prepare storage structure\n      this._elements = {};\n      this._elements.invalidFeedback = {}; // get csv file input\n\n      if (this.el && this.el.nodeName === 'INPUT' && this.el.getAttribute('type') === 'file') {\n        this._elements.csvFileInput = this.el;\n      } else {\n        this._elements.csvFileInput = this.el.closest('input[type=\"file\"]');\n      } // get csv input label\n\n\n      this._elements.csvInputLabel = document.querySelector(this.options.csvInputLabel); // get csv input label\n\n      this._elements.importButton = document.querySelector(this.options.importButton); // get csv input label\n\n      this._elements.manualInputFormTabControl = document.querySelector(this.options.manualInputFormTabControl); // get csv input label\n\n      this._elements.manualInputFormInputList = document.querySelector(this.options.manualInputFormInputList); // get product number select input\n\n      this._elements.productNumberColumnSelect = document.querySelector(this.options.columnSelectElements.productNumber); // get product number select input\n\n      this._elements.amountColumnSelect = document.querySelector(this.options.columnSelectElements.amount); // get csv file input invalid feedback element\n\n      this._elements.invalidFeedback.csvFileInput = document.querySelector(this.options.invalidFeedbackElements.csvFileInput); // get product number column select invalid feedback element\n\n      this._elements.invalidFeedback.productNumber = document.querySelector(this.options.invalidFeedbackElements.productNumber); // get amount column select invalid feedback element\n\n      this._elements.invalidFeedback.amount = document.querySelector(this.options.invalidFeedbackElements.amount);\n    }\n  }, {\n    key: \"_addListeners\",\n    value: function _addListeners() {\n      // listen to change events on the csv file input\n      this._elements.csvFileInput.addEventListener('change', this._csvFileInputChanged.bind(this)); // listen to change events on the column selects\n\n\n      this._elements.productNumberColumnSelect.addEventListener('change', this._checkColumnSelectStates.bind(this));\n\n      this._elements.amountColumnSelect.addEventListener('change', this._checkColumnSelectStates.bind(this)); // listen to click events on the import button\n\n\n      this._elements.importButton.addEventListener('click', this._importButtonClicked.bind(this));\n    }\n  }, {\n    key: \"_csvFileInputChanged\",\n    value: function _csvFileInputChanged(event) {\n      var _this2 = this;\n\n      // only run if target is the plugin's csv file input\n      if (event.target !== this._elements.csvFileInput) return; // clear previous error messages\n\n      this._clearControlError(this._elements.csvFileInput, this._elements.invalidFeedback.csvFileInput);\n\n      this._clearControlError(this._elements.productNumberColumnSelect, this._elements.invalidFeedback.productNumber);\n\n      this._clearControlError(this._elements.amountColumnSelect, this._elements.invalidFeedback.amount); // validate the provided file\n\n\n      var _this$_checkSelectedF = this._checkSelectedFile(),\n          fileValid = _this$_checkSelectedF.valid,\n          fileValidationErrorCode = _this$_checkSelectedF.errorCode;\n\n      if (!fileValid) {\n        this._displayControlError(this._elements.csvFileInput, this._elements.invalidFeedback.csvFileInput, fileValidationErrorCode);\n\n        return;\n      } // show success feedback on file input\n\n\n      this._displayControlSuccess(this._elements.csvFileInput); // read and parse file contents\n\n\n      this._processFileContents(this._elements.csvFileInput.files[0]).then(function () {\n        _this2._addColumnSelectOptions();\n\n        _this2._enableColumnSelects();\n\n        _this2._elements.csvInputLabel.innerText = _this2._elements.csvFileInput.files[0].name; // try to guess columns for import\n\n        var guessedProductNumberColumn = _csv_upload_column_guesser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].GuessProductNumberColumn(_this2._importData.data);\n        var guessedQuantityColumn = _csv_upload_column_guesser__WEBPACK_IMPORTED_MODULE_2__[\"default\"].GuessQuantityColumn(_this2._importData.data); // update column selects with guessed values\n\n        _this2._elements.productNumberColumnSelect.value = guessedProductNumberColumn;\n        _this2._elements.amountColumnSelect.value = guessedQuantityColumn; // check if guesses were both valid\n\n        _this2._checkColumnSelectStates(); // show warning if a guess failed\n\n\n        if (guessedProductNumberColumn + guessedQuantityColumn === -2) // short version to check both equal to -1\n          _this2._displayAlert(_this2.options.errorTexts['import-data--guess-failed--both'], 'danger');else if (guessedProductNumberColumn === -1) _this2._displayAlert(_this2.options.errorTexts['import-data--guess-failed--product-number'], 'danger');else if (guessedQuantityColumn === -1) _this2._displayAlert(_this2.options.errorTexts['import-data--guess-failed--quantity'], 'danger');else _this2._displayAlert(_this2.options.importGuessSuccessText, 'success');\n      });\n    }\n  }, {\n    key: \"_checkSelectedFile\",\n    value: function _checkSelectedFile() {\n      // get files from input element\n      var files = this._elements.csvFileInput.files; // check if any files were provided\n\n      if (!files || files.length === 0) return this._generateErrorObject('file-input--missing-file'); // check if more than one file was provided\n\n      if (files.length > 1) return this._generateErrorObject('file-input--too-many-files'); // check if provided file is of type csv\n\n      if (files[0].type !== 'text/csv') return this._generateErrorObject('file-input--invalid-file'); // generate valid error object\n\n      return this._generateErrorObject(null, true);\n    }\n  }, {\n    key: \"_generateErrorObject\",\n    value: function _generateErrorObject(errorCode) {\n      var valid = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return {\n        valid: valid,\n        errorCode: errorCode\n      };\n    }\n  }, {\n    key: \"_displayControlError\",\n    value: function _displayControlError(inputElement, feedbackElement, errorCode) {\n      this._clearControlError(inputElement, feedbackElement);\n\n      inputElement.classList.add(FastOrderCsvUploadPlugin.DOM_CLASS_INVALID);\n      feedbackElement.innerText = this.options.errorTexts[errorCode];\n    }\n  }, {\n    key: \"_clearControlError\",\n    value: function _clearControlError(inputElement, invalidFeedbackElement) {\n      invalidFeedbackElement.innerText = '';\n      if (inputElement.classList.contains(FastOrderCsvUploadPlugin.DOM_CLASS_INVALID)) inputElement.classList.remove(FastOrderCsvUploadPlugin.DOM_CLASS_INVALID);\n    }\n  }, {\n    key: \"_displayControlSuccess\",\n    value: function _displayControlSuccess(inputElement) {\n      if (!inputElement.classList.contains(FastOrderCsvUploadPlugin.DOM_CLASS_VALID)) inputElement.classList.add(FastOrderCsvUploadPlugin.DOM_CLASS_VALID);\n    }\n  }, {\n    key: \"_processFileContents\",\n    value: function () {\n      var _processFileContents2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(file) {\n        var fileContents, csvLines, csvHeader;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this._readFileContents(file);\n\n              case 2:\n                fileContents = _context.sent;\n                // todo: handle errors\n                csvLines = fileContents.split('\\n');\n                csvHeader = csvLines.shift();\n                this._importData.headers = csvHeader.split(/[,;]/);\n                this._importData.data = csvLines.map(function (line) {\n                  return line.split(/[,;]/);\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _processFileContents(_x) {\n        return _processFileContents2.apply(this, arguments);\n      }\n\n      return _processFileContents;\n    }()\n  }, {\n    key: \"_readFileContents\",\n    value: function _readFileContents(file) {\n      return new Promise(function (resolve, reject) {\n        var fileReader = new FileReader();\n        fileReader.readAsText(file);\n\n        fileReader.onload = function () {\n          resolve(fileReader.result);\n        };\n\n        fileReader.onerror = function () {\n          reject(fileReader.error);\n        };\n      });\n    }\n  }, {\n    key: \"_addColumnSelectOptions\",\n    value: function _addColumnSelectOptions() {\n      var _this3 = this;\n\n      [this._elements.productNumberColumnSelect, this._elements.amountColumnSelect].forEach(function (selectElement) {\n        var headerOptions = [];\n\n        _this3._importData.headers.forEach(function (header, index) {\n          var option = document.createElement('option');\n          option.value = index;\n          option.innerText = header;\n          headerOptions.push(option);\n        });\n\n        _this3._clearColumnSelectOptions(selectElement);\n\n        selectElement.append.apply(selectElement, headerOptions);\n      });\n    }\n  }, {\n    key: \"_clearColumnSelectOptions\",\n    value: function _clearColumnSelectOptions(selectElement) {\n      var keepPlaceholder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var optionRemoveSelector = keepPlaceholder ? ':not([value=\"-1\"])' : 'option';\n      Array.prototype.forEach.call(selectElement.querySelectorAll(optionRemoveSelector), function (optionElement) {\n        optionElement.remove();\n      });\n    }\n  }, {\n    key: \"_enableColumnSelects\",\n    value: function _enableColumnSelects() {\n      this._elements.productNumberColumnSelect.removeAttribute('disabled');\n\n      this._elements.amountColumnSelect.removeAttribute('disabled');\n    }\n  }, {\n    key: \"_checkColumnSelectStates\",\n    value: function _checkColumnSelectStates() {\n      this._columnSelectsValid = this._elements.productNumberColumnSelect.value >= 0 && this._elements.amountColumnSelect.value >= 0;\n      if (this._columnSelectsValid) this._elements.importButton.removeAttribute('disabled');else this._elements.importButton.setAttribute('disabled', true);\n    }\n  }, {\n    key: \"_importButtonClicked\",\n    value: function _importButtonClicked() {\n      var _this4 = this;\n\n      if (!this._columnSelectsValid) return;\n\n      var _this$_validateImport = this._validateImportData(),\n          importDataValid = _this$_validateImport.valid,\n          importErrorCode = _this$_validateImport.errorCode;\n\n      if (!importDataValid) return this._displayControlError(this._elements.csvFileInput, this._elements.invalidFeedback.csvFileInput, importErrorCode);\n\n      var _this$_getImportColum = this._getImportColumnIndizes(),\n          productNumberIndex = _this$_getImportColum.productNumberIndex,\n          amountIndex = _this$_getImportColum.amountIndex;\n\n      var productNumberInputId = function productNumberInputId(index) {\n        return _this4.options.manualFormFieldIdSchemas.productNumber.replace(/\\$i/, index);\n      };\n\n      var amountInputId = function amountInputId(index) {\n        return _this4.options.manualFormFieldIdSchemas.amount.replace(/\\$i/, index);\n      }; // clear all form input rows (they will be added back when injecting imported data)\n\n\n      this._elements.manualInputFormInputList.innerHTML = '';\n\n      this._importData.data.forEach(function (dataset, index) {\n        var productNumber = dataset[productNumberIndex];\n        var amount = dataset[amountIndex]; // create related input row\n\n        _this4._elements.manualInputFormInputList.__plugins.get('FastOrderAdjustableFormPlugin').appendFormRow();\n\n        var productNumberInput = document.getElementById(productNumberInputId(index));\n        var amountInput = document.getElementById(amountInputId(index));\n        productNumberInput.value = productNumber;\n        amountInput.value = amount;\n      }); // add another form row to enable the user to add more data\n\n\n      this._elements.manualInputFormInputList.__plugins.get('FastOrderAdjustableFormPlugin').appendFormRow(); //todo: show confirmation modal\n      // switch to import form tab\n\n\n      this._elements.manualInputFormTabControl.click(); //clear related inputs\n\n\n      this._clearFileInput();\n\n      this._clearColumnSelectOptions(this._elements.productNumberColumnSelect);\n\n      this._clearColumnSelectOptions(this._elements.amountColumnSelect);\n    }\n  }, {\n    key: \"_validateImportData\",\n    value: function _validateImportData() {\n      var _this$_getImportColum2 = this._getImportColumnIndizes(),\n          productNumberIndex = _this$_getImportColum2.productNumberIndex,\n          amountIndex = _this$_getImportColum2.amountIndex; // check quantity column of the import\n\n\n      for (var i = 0; i < this._importData.data.length; i++) {\n        var value = this._importData.data[i][amountIndex];\n        if (Number.isNaN(Number.parseInt(value))) return this._generateErrorObject('import-data--invalid-qtty');\n      } // data seems to be valid\n\n\n      return this._generateErrorObject(null, true);\n    }\n  }, {\n    key: \"_getImportColumnIndizes\",\n    value: function _getImportColumnIndizes() {\n      return {\n        productNumberIndex: this._elements.productNumberColumnSelect.value,\n        amountIndex: this._elements.amountColumnSelect.value\n      };\n    }\n  }, {\n    key: \"_clearFileInput\",\n    value: function _clearFileInput() {\n      this._elements.csvFileInput.value = null;\n      this._elements.csvInputLabel.innerText = this._defaultCsvInputLabelText;\n    }\n  }, {\n    key: \"_displayAlert\",\n    value: function _displayAlert(text, type) {\n      var alert = document.createElement(\"div\");\n      alert.classList.add('alert', \"alert-\".concat(type), 'alert-dismissible', 'fade', 'show');\n      alert.role = \"alert\";\n      var alertContentContainer = document.createElement(\"div\");\n      alertContentContainer.classList.add('alert-content-container');\n      var alertContent = document.createElement(\"div\");\n      alertContent.classList.add('alert-content', 'py-2');\n      alertContent.innerText = text;\n      var dismissAlertButton = document.createElement(\"button\");\n      dismissAlertButton.type = \"button\";\n      dismissAlertButton.classList.add(\"close\");\n      dismissAlertButton.ariaLabel = \"Close\";\n      dismissAlertButton.dataset.dismiss = \"alert\";\n      var buttonContent = document.createElement(\"span\");\n      buttonContent.ariaHidden = \"true\";\n      buttonContent.innerHTML = \"&times;\";\n      dismissAlertButton.append(buttonContent);\n      alertContentContainer.append(alertContent, dismissAlertButton);\n      alert.append(alertContentContainer);\n\n      this._elements.csvFileInput.closest(\".container\").append(alert);\n    }\n  }]);\n\n  return FastOrderCsvUploadPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n_defineProperty(FastOrderCsvUploadPlugin, \"DOM_CLASS_INVALID\", 'is-invalid');\n\n_defineProperty(FastOrderCsvUploadPlugin, \"DOM_CLASS_VALID\", 'is-valid');\n\n_defineProperty(FastOrderCsvUploadPlugin, \"requiredOptions\", [\"columnSelectElements.productNumber\", \"columnSelectElements.amount\", \"invalidFeedbackElements.csvFileInput\", \"invalidFeedbackElements.productNumber\", \"invalidFeedbackElements.amount\", \"manualFormFieldIdSchemas.productNumber\", \"manualFormFieldIdSchemas.amount\", \"csvInputLabel\", \"importButton\", \"manualInputFormTabControl\", \"manualInputFormInputList\"]);\n\n_defineProperty(FastOrderCsvUploadPlugin, \"options\", {\n  errorTexts: {\n    'file-input--missing-file': 'A file must be selected',\n    'file-input--too-many-files': 'Only one file can be selected',\n    'file-input--invalid-file': 'Only CSV files can be selected',\n    'import-data--invalid-qtty': 'Your import contains invalid quantities',\n    'import-data--guess-failed--product-number': 'Failed to guess the product number column. Maybe your imported file is invalid?',\n    'import-data--guess-failed--quantity': 'Failed to guess the quantity column. Maybe your imported file is invalid?',\n    'import-data--guess-failed--both': 'Failed to guess the product number and quantity columns. Maybe your imported file is invalid?'\n  },\n  importGuessSuccessText: 'Successfully guessed column and quantity columns for your import',\n  columnSelectElements: {\n    productNumber: null,\n    amount: null\n  },\n  invalidFeedbackElements: {\n    csvFileInput: null,\n    productNumber: null,\n    amount: null\n  },\n  manualFormFieldIdSchemas: {\n    productNumber: null,\n    amount: null\n  },\n  csvInputLabel: null,\n  importButton: null,\n  manualInputFormTabControl: null,\n  manualInputFormInputList: null\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDVHTC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvcGx1Z2luL2Zhc3Qtb3JkZXItY3N2LXVwbG9hZC9mYXN0LW9yZGVyLWNzdi11cGxvYWQucGx1Z2luLmpzPzI1ZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsdWdpbiBmcm9tIFwic3JjL3BsdWdpbi1zeXN0ZW0vcGx1Z2luLmNsYXNzXCI7XG5pbXBvcnQgUGx1Z2luT3B0aW9uQ2hlY2sgZnJvbSBcIi4uL2V4dGVuc2lvbnMvcGx1Z2luLW9wdGlvbi1jaGVja1wiO1xuaW1wb3J0IENzdlVwbG9hZENvbHVtbkd1ZXNzZXIgZnJvbSBcIi4vY3N2LXVwbG9hZC1jb2x1bW4tZ3Vlc3NlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXG4gICAgc3RhdGljIERPTV9DTEFTU19JTlZBTElEID0gJ2lzLWludmFsaWQnO1xuICAgIHN0YXRpYyBET01fQ0xBU1NfVkFMSUQgPSAnaXMtdmFsaWQnO1xuXG4gICAgc3RhdGljIHJlcXVpcmVkT3B0aW9ucyA9IFtcImNvbHVtblNlbGVjdEVsZW1lbnRzLnByb2R1Y3ROdW1iZXJcIiwgXCJjb2x1bW5TZWxlY3RFbGVtZW50cy5hbW91bnRcIiwgXCJpbnZhbGlkRmVlZGJhY2tFbGVtZW50cy5jc3ZGaWxlSW5wdXRcIiwgXCJpbnZhbGlkRmVlZGJhY2tFbGVtZW50cy5wcm9kdWN0TnVtYmVyXCIsIFwiaW52YWxpZEZlZWRiYWNrRWxlbWVudHMuYW1vdW50XCIsIFwibWFudWFsRm9ybUZpZWxkSWRTY2hlbWFzLnByb2R1Y3ROdW1iZXJcIiwgXCJtYW51YWxGb3JtRmllbGRJZFNjaGVtYXMuYW1vdW50XCIsIFwiY3N2SW5wdXRMYWJlbFwiLCBcImltcG9ydEJ1dHRvblwiLCBcIm1hbnVhbElucHV0Rm9ybVRhYkNvbnRyb2xcIiwgXCJtYW51YWxJbnB1dEZvcm1JbnB1dExpc3RcIl07XG5cbiAgICBzdGF0aWMgb3B0aW9ucyA9IHtcbiAgICAgICAgZXJyb3JUZXh0czoge1xuICAgICAgICAgICAgJ2ZpbGUtaW5wdXQtLW1pc3NpbmctZmlsZSc6ICdBIGZpbGUgbXVzdCBiZSBzZWxlY3RlZCcsXG4gICAgICAgICAgICAnZmlsZS1pbnB1dC0tdG9vLW1hbnktZmlsZXMnOiAnT25seSBvbmUgZmlsZSBjYW4gYmUgc2VsZWN0ZWQnLFxuICAgICAgICAgICAgJ2ZpbGUtaW5wdXQtLWludmFsaWQtZmlsZSc6ICdPbmx5IENTViBmaWxlcyBjYW4gYmUgc2VsZWN0ZWQnLFxuXG4gICAgICAgICAgICAnaW1wb3J0LWRhdGEtLWludmFsaWQtcXR0eSc6ICdZb3VyIGltcG9ydCBjb250YWlucyBpbnZhbGlkIHF1YW50aXRpZXMnLFxuXG4gICAgICAgICAgICAnaW1wb3J0LWRhdGEtLWd1ZXNzLWZhaWxlZC0tcHJvZHVjdC1udW1iZXInOiAnRmFpbGVkIHRvIGd1ZXNzIHRoZSBwcm9kdWN0IG51bWJlciBjb2x1bW4uIE1heWJlIHlvdXIgaW1wb3J0ZWQgZmlsZSBpcyBpbnZhbGlkPycsXG4gICAgICAgICAgICAnaW1wb3J0LWRhdGEtLWd1ZXNzLWZhaWxlZC0tcXVhbnRpdHknOiAnRmFpbGVkIHRvIGd1ZXNzIHRoZSBxdWFudGl0eSBjb2x1bW4uIE1heWJlIHlvdXIgaW1wb3J0ZWQgZmlsZSBpcyBpbnZhbGlkPycsXG4gICAgICAgICAgICAnaW1wb3J0LWRhdGEtLWd1ZXNzLWZhaWxlZC0tYm90aCc6ICdGYWlsZWQgdG8gZ3Vlc3MgdGhlIHByb2R1Y3QgbnVtYmVyIGFuZCBxdWFudGl0eSBjb2x1bW5zLiBNYXliZSB5b3VyIGltcG9ydGVkIGZpbGUgaXMgaW52YWxpZD8nLFxuICAgICAgICB9LFxuXG4gICAgICAgIGltcG9ydEd1ZXNzU3VjY2Vzc1RleHQ6ICdTdWNjZXNzZnVsbHkgZ3Vlc3NlZCBjb2x1bW4gYW5kIHF1YW50aXR5IGNvbHVtbnMgZm9yIHlvdXIgaW1wb3J0JyxcblxuICAgICAgICBjb2x1bW5TZWxlY3RFbGVtZW50czoge1xuICAgICAgICAgICAgcHJvZHVjdE51bWJlcjogbnVsbCwgYW1vdW50OiBudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW52YWxpZEZlZWRiYWNrRWxlbWVudHM6IHtcbiAgICAgICAgICAgIGNzdkZpbGVJbnB1dDogbnVsbCwgcHJvZHVjdE51bWJlcjogbnVsbCwgYW1vdW50OiBudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgbWFudWFsRm9ybUZpZWxkSWRTY2hlbWFzOiB7XG4gICAgICAgICAgICBwcm9kdWN0TnVtYmVyOiBudWxsLCBhbW91bnQ6IG51bGxcbiAgICAgICAgfSxcblxuICAgICAgICBjc3ZJbnB1dExhYmVsOiBudWxsLCBpbXBvcnRCdXR0b246IG51bGwsXG5cbiAgICAgICAgbWFudWFsSW5wdXRGb3JtVGFiQ29udHJvbDogbnVsbCxcblxuICAgICAgICBtYW51YWxJbnB1dEZvcm1JbnB1dExpc3Q6IG51bGxcbiAgICB9O1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIHJlcXVpcmVkIG9wdGlvbnNcbiAgICAgICAgUGx1Z2luT3B0aW9uQ2hlY2suQ2hlY2tQcm92aWRlZE9wdGlvbnModGhpcy5vcHRpb25zLCBGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4ucmVxdWlyZWRPcHRpb25zLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xuXG4gICAgICAgIC8vIGdldCBjb250cm9sIGVsZW1lbnRzIHJlbGF0ZWQgdG8gdGhpcyBwbHVnaW5cbiAgICAgICAgdGhpcy5fZ2V0UmVsYXRlZENvbnRyb2xzKCk7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHJlcXVpcmVkIGVsZW1lbnRzIGNvdWxkIGJlIGZvdW5kXG4gICAgICAgIHRoaXMuX2NoZWNrUmVxdWlyZWRFbGVtZW50cyh7XG4gICAgICAgICAgICAnX2VsZW1lbnRzLmNzdkZpbGVJbnB1dCc6IHRoaXMuX2VsZW1lbnRzLmNzdkZpbGVJbnB1dCxcbiAgICAgICAgICAgICdfZWxlbWVudHMuY3N2SW5wdXRMYWJlbCc6IHRoaXMuX2VsZW1lbnRzLmNzdklucHV0TGFiZWwsXG4gICAgICAgICAgICAnX2VsZW1lbnRzLmltcG9ydEJ1dHRvbic6IHRoaXMuX2VsZW1lbnRzLmltcG9ydEJ1dHRvbixcbiAgICAgICAgICAgICdfZWxlbWVudHMucHJvZHVjdE51bWJlckNvbHVtblNlbGVjdCc6IHRoaXMuX2VsZW1lbnRzLnByb2R1Y3ROdW1iZXJDb2x1bW5TZWxlY3QsXG4gICAgICAgICAgICAnX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdCc6IHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdCxcbiAgICAgICAgICAgICdfZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrLmNzdkZpbGVJbnB1dCc6IHRoaXMuX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5jc3ZGaWxlSW5wdXQsXG4gICAgICAgICAgICAnX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5wcm9kdWN0TnVtYmVyJzogdGhpcy5fZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrLnByb2R1Y3ROdW1iZXIsXG4gICAgICAgICAgICAnX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5hbW91bnQnOiB0aGlzLl9lbGVtZW50cy5pbnZhbGlkRmVlZGJhY2suYW1vdW50LFxuICAgICAgICAgICAgJ19lbGVtZW50cy5tYW51YWxJbnB1dEZvcm1UYWJDb250cm9sJzogdGhpcy5fZWxlbWVudHMubWFudWFsSW5wdXRGb3JtVGFiQ29udHJvbCxcbiAgICAgICAgICAgICdfZWxlbWVudHMubWFudWFsSW5wdXRGb3JtSW5wdXRMaXN0JzogdGhpcy5fZWxlbWVudHMubWFudWFsSW5wdXRGb3JtSW5wdXRMaXN0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHN0b3JlIGRlZmF1bHQgbGFiZWwgdGV4dFxuICAgICAgICB0aGlzLl9kZWZhdWx0Q3N2SW5wdXRMYWJlbFRleHQgPSB0aGlzLl9lbGVtZW50cy5jc3ZJbnB1dExhYmVsLmlubmVyVGV4dDtcblxuICAgICAgICAvLyBjcmVhdGUgY2xhc3MgdmFyaWFibGUgZm9yIGltcG9ydGVkIGRhdGFcbiAgICAgICAgdGhpcy5faW1wb3J0RGF0YSA9IHt9O1xuXG4gICAgICAgIC8vIGNyZWF0ZSBjbGFzcyB2YXJpYWJsZSBmb3IgY29sdW1uIHNlbGVjdHMgc3RhdHVzXG4gICAgICAgIHRoaXMuX2NvbHVtblNlbGVjdHNWYWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGRpc2FibGUgY29sdW1uIHNlbGVjdHMgYW5kIGltcG9ydCBidXR0b25cbiAgICAgICAgdGhpcy5fZWxlbWVudHMucHJvZHVjdE51bWJlckNvbHVtblNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmltcG9ydEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICB0aGlzLl9hZGRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICBfY2hlY2tSZXF1aXJlZEVsZW1lbnRzKHJlcXVpcmVkRWxlbWVudHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMocmVxdWlyZWRFbGVtZW50cykuZm9yRWFjaChjb2RlID0+IHtcbiAgICAgICAgICAgIGlmICghcmVxdWlyZWRFbGVtZW50c1tjb2RlXSkgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCAnJHtjb2RlfScgZm9yIHBsdWdpbiAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBfZ2V0UmVsYXRlZENvbnRyb2xzKCkge1xuICAgICAgICAvLyBwcmVwYXJlIHN0b3JhZ2Ugc3RydWN0dXJlXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzID0ge307XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjayA9IHt9O1xuXG4gICAgICAgIC8vIGdldCBjc3YgZmlsZSBpbnB1dFxuICAgICAgICBpZiAodGhpcy5lbCAmJiB0aGlzLmVsLm5vZGVOYW1lID09PSAnSU5QVVQnICYmIHRoaXMuZWwuZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09ICdmaWxlJykge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0ID0gdGhpcy5lbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmNzdkZpbGVJbnB1dCA9IHRoaXMuZWwuY2xvc2VzdCgnaW5wdXRbdHlwZT1cImZpbGVcIl0nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBjc3YgaW5wdXQgbGFiZWxcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuY3N2SW5wdXRMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmNzdklucHV0TGFiZWwpO1xuXG4gICAgICAgIC8vIGdldCBjc3YgaW5wdXQgbGFiZWxcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaW1wb3J0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuaW1wb3J0QnV0dG9uKTtcblxuICAgICAgICAvLyBnZXQgY3N2IGlucHV0IGxhYmVsXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLm1hbnVhbElucHV0Rm9ybVRhYkNvbnRyb2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5tYW51YWxJbnB1dEZvcm1UYWJDb250cm9sKTtcblxuICAgICAgICAvLyBnZXQgY3N2IGlucHV0IGxhYmVsXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLm1hbnVhbElucHV0Rm9ybUlucHV0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLm1hbnVhbElucHV0Rm9ybUlucHV0TGlzdCk7XG5cbiAgICAgICAgLy8gZ2V0IHByb2R1Y3QgbnVtYmVyIHNlbGVjdCBpbnB1dFxuICAgICAgICB0aGlzLl9lbGVtZW50cy5wcm9kdWN0TnVtYmVyQ29sdW1uU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuY29sdW1uU2VsZWN0RWxlbWVudHMucHJvZHVjdE51bWJlcik7XG5cbiAgICAgICAgLy8gZ2V0IHByb2R1Y3QgbnVtYmVyIHNlbGVjdCBpbnB1dFxuICAgICAgICB0aGlzLl9lbGVtZW50cy5hbW91bnRDb2x1bW5TZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5jb2x1bW5TZWxlY3RFbGVtZW50cy5hbW91bnQpO1xuXG4gICAgICAgIC8vIGdldCBjc3YgZmlsZSBpbnB1dCBpbnZhbGlkIGZlZWRiYWNrIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrLmNzdkZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmludmFsaWRGZWVkYmFja0VsZW1lbnRzLmNzdkZpbGVJbnB1dCk7XG5cbiAgICAgICAgLy8gZ2V0IHByb2R1Y3QgbnVtYmVyIGNvbHVtbiBzZWxlY3QgaW52YWxpZCBmZWVkYmFjayBlbGVtZW50XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5wcm9kdWN0TnVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuaW52YWxpZEZlZWRiYWNrRWxlbWVudHMucHJvZHVjdE51bWJlcik7XG5cbiAgICAgICAgLy8gZ2V0IGFtb3VudCBjb2x1bW4gc2VsZWN0IGludmFsaWQgZmVlZGJhY2sgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtZW50cy5pbnZhbGlkRmVlZGJhY2suYW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuaW52YWxpZEZlZWRiYWNrRWxlbWVudHMuYW1vdW50KTtcbiAgICB9XG5cbiAgICBfYWRkTGlzdGVuZXJzKCkge1xuICAgICAgICAvLyBsaXN0ZW4gdG8gY2hhbmdlIGV2ZW50cyBvbiB0aGUgY3N2IGZpbGUgaW5wdXRcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2NzdkZpbGVJbnB1dENoYW5nZWQuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gbGlzdGVuIHRvIGNoYW5nZSBldmVudHMgb24gdGhlIGNvbHVtbiBzZWxlY3RzXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnByb2R1Y3ROdW1iZXJDb2x1bW5TZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fY2hlY2tDb2x1bW5TZWxlY3RTdGF0ZXMuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9jaGVja0NvbHVtblNlbGVjdFN0YXRlcy5iaW5kKHRoaXMpKTtcblxuICAgICAgICAvLyBsaXN0ZW4gdG8gY2xpY2sgZXZlbnRzIG9uIHRoZSBpbXBvcnQgYnV0dG9uXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmltcG9ydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2ltcG9ydEJ1dHRvbkNsaWNrZWQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgX2NzdkZpbGVJbnB1dENoYW5nZWQoZXZlbnQpIHtcbiAgICAgICAgLy8gb25seSBydW4gaWYgdGFyZ2V0IGlzIHRoZSBwbHVnaW4ncyBjc3YgZmlsZSBpbnB1dFxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSB0aGlzLl9lbGVtZW50cy5jc3ZGaWxlSW5wdXQpIHJldHVybjtcblxuICAgICAgICAvLyBjbGVhciBwcmV2aW91cyBlcnJvciBtZXNzYWdlc1xuICAgICAgICB0aGlzLl9jbGVhckNvbnRyb2xFcnJvcih0aGlzLl9lbGVtZW50cy5jc3ZGaWxlSW5wdXQsIHRoaXMuX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5jc3ZGaWxlSW5wdXQpO1xuICAgICAgICB0aGlzLl9jbGVhckNvbnRyb2xFcnJvcih0aGlzLl9lbGVtZW50cy5wcm9kdWN0TnVtYmVyQ29sdW1uU2VsZWN0LCB0aGlzLl9lbGVtZW50cy5pbnZhbGlkRmVlZGJhY2sucHJvZHVjdE51bWJlcik7XG4gICAgICAgIHRoaXMuX2NsZWFyQ29udHJvbEVycm9yKHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdCwgdGhpcy5fZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrLmFtb3VudCk7XG5cbiAgICAgICAgLy8gdmFsaWRhdGUgdGhlIHByb3ZpZGVkIGZpbGVcbiAgICAgICAgY29uc3Qge3ZhbGlkOiBmaWxlVmFsaWQsIGVycm9yQ29kZTogZmlsZVZhbGlkYXRpb25FcnJvckNvZGV9ID0gdGhpcy5fY2hlY2tTZWxlY3RlZEZpbGUoKTtcbiAgICAgICAgaWYgKCFmaWxlVmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXlDb250cm9sRXJyb3IodGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LCB0aGlzLl9lbGVtZW50cy5pbnZhbGlkRmVlZGJhY2suY3N2RmlsZUlucHV0LCBmaWxlVmFsaWRhdGlvbkVycm9yQ29kZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaG93IHN1Y2Nlc3MgZmVlZGJhY2sgb24gZmlsZSBpbnB1dFxuICAgICAgICB0aGlzLl9kaXNwbGF5Q29udHJvbFN1Y2Nlc3ModGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0KTtcblxuICAgICAgICAvLyByZWFkIGFuZCBwYXJzZSBmaWxlIGNvbnRlbnRzXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGaWxlQ29udGVudHModGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LmZpbGVzWzBdKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FkZENvbHVtblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZUNvbHVtblNlbGVjdHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmNzdklucHV0TGFiZWwuaW5uZXJUZXh0ID0gdGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LmZpbGVzWzBdLm5hbWU7XG5cbiAgICAgICAgICAgIC8vIHRyeSB0byBndWVzcyBjb2x1bW5zIGZvciBpbXBvcnRcbiAgICAgICAgICAgIGNvbnN0IGd1ZXNzZWRQcm9kdWN0TnVtYmVyQ29sdW1uID0gQ3N2VXBsb2FkQ29sdW1uR3Vlc3Nlci5HdWVzc1Byb2R1Y3ROdW1iZXJDb2x1bW4odGhpcy5faW1wb3J0RGF0YS5kYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGd1ZXNzZWRRdWFudGl0eUNvbHVtbiA9IENzdlVwbG9hZENvbHVtbkd1ZXNzZXIuR3Vlc3NRdWFudGl0eUNvbHVtbih0aGlzLl9pbXBvcnREYXRhLmRhdGEpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgY29sdW1uIHNlbGVjdHMgd2l0aCBndWVzc2VkIHZhbHVlc1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMucHJvZHVjdE51bWJlckNvbHVtblNlbGVjdC52YWx1ZSA9IGd1ZXNzZWRQcm9kdWN0TnVtYmVyQ29sdW1uO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuYW1vdW50Q29sdW1uU2VsZWN0LnZhbHVlID0gZ3Vlc3NlZFF1YW50aXR5Q29sdW1uO1xuXG4gICAgICAgICAgICAvLyBjaGVjayBpZiBndWVzc2VzIHdlcmUgYm90aCB2YWxpZFxuICAgICAgICAgICAgdGhpcy5fY2hlY2tDb2x1bW5TZWxlY3RTdGF0ZXMoKTtcblxuICAgICAgICAgICAgLy8gc2hvdyB3YXJuaW5nIGlmIGEgZ3Vlc3MgZmFpbGVkXG4gICAgICAgICAgICBpZiAoZ3Vlc3NlZFByb2R1Y3ROdW1iZXJDb2x1bW4gKyBndWVzc2VkUXVhbnRpdHlDb2x1bW4gPT09IC0yKSAvLyBzaG9ydCB2ZXJzaW9uIHRvIGNoZWNrIGJvdGggZXF1YWwgdG8gLTFcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5QWxlcnQodGhpcy5vcHRpb25zLmVycm9yVGV4dHNbJ2ltcG9ydC1kYXRhLS1ndWVzcy1mYWlsZWQtLWJvdGgnXSwgJ2RhbmdlcicpO1xuXG4gICAgICAgICAgICBlbHNlIGlmIChndWVzc2VkUHJvZHVjdE51bWJlckNvbHVtbiA9PT0gLTEpXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheUFsZXJ0KHRoaXMub3B0aW9ucy5lcnJvclRleHRzWydpbXBvcnQtZGF0YS0tZ3Vlc3MtZmFpbGVkLS1wcm9kdWN0LW51bWJlciddLCAnZGFuZ2VyJyk7XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKGd1ZXNzZWRRdWFudGl0eUNvbHVtbiA9PT0gLTEpXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheUFsZXJ0KHRoaXMub3B0aW9ucy5lcnJvclRleHRzWydpbXBvcnQtZGF0YS0tZ3Vlc3MtZmFpbGVkLS1xdWFudGl0eSddLCAnZGFuZ2VyJyk7XG5cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5QWxlcnQodGhpcy5vcHRpb25zLmltcG9ydEd1ZXNzU3VjY2Vzc1RleHQsICdzdWNjZXNzJyk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NoZWNrU2VsZWN0ZWRGaWxlKCkge1xuICAgICAgICAvLyBnZXQgZmlsZXMgZnJvbSBpbnB1dCBlbGVtZW50XG4gICAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LmZpbGVzO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIGFueSBmaWxlcyB3ZXJlIHByb3ZpZGVkXG4gICAgICAgIGlmICghZmlsZXMgfHwgZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm4gdGhpcy5fZ2VuZXJhdGVFcnJvck9iamVjdCgnZmlsZS1pbnB1dC0tbWlzc2luZy1maWxlJyk7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgbW9yZSB0aGFuIG9uZSBmaWxlIHdhcyBwcm92aWRlZFxuICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMSkgcmV0dXJuIHRoaXMuX2dlbmVyYXRlRXJyb3JPYmplY3QoJ2ZpbGUtaW5wdXQtLXRvby1tYW55LWZpbGVzJyk7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgcHJvdmlkZWQgZmlsZSBpcyBvZiB0eXBlIGNzdlxuICAgICAgICBpZiAoZmlsZXNbMF0udHlwZSAhPT0gJ3RleHQvY3N2JykgcmV0dXJuIHRoaXMuX2dlbmVyYXRlRXJyb3JPYmplY3QoJ2ZpbGUtaW5wdXQtLWludmFsaWQtZmlsZScpO1xuXG4gICAgICAgIC8vIGdlbmVyYXRlIHZhbGlkIGVycm9yIG9iamVjdFxuICAgICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGVFcnJvck9iamVjdChudWxsLCB0cnVlKTtcbiAgICB9XG5cbiAgICBfZ2VuZXJhdGVFcnJvck9iamVjdChlcnJvckNvZGUsIHZhbGlkID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHt2YWxpZCwgZXJyb3JDb2RlfTtcbiAgICB9XG5cbiAgICBfZGlzcGxheUNvbnRyb2xFcnJvcihpbnB1dEVsZW1lbnQsIGZlZWRiYWNrRWxlbWVudCwgZXJyb3JDb2RlKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyQ29udHJvbEVycm9yKGlucHV0RWxlbWVudCwgZmVlZGJhY2tFbGVtZW50KTtcblxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4uRE9NX0NMQVNTX0lOVkFMSUQpO1xuXG4gICAgICAgIGZlZWRiYWNrRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLm9wdGlvbnMuZXJyb3JUZXh0c1tlcnJvckNvZGVdO1xuICAgIH1cblxuICAgIF9jbGVhckNvbnRyb2xFcnJvcihpbnB1dEVsZW1lbnQsIGludmFsaWRGZWVkYmFja0VsZW1lbnQpIHtcbiAgICAgICAgaW52YWxpZEZlZWRiYWNrRWxlbWVudC5pbm5lclRleHQgPSAnJztcblxuICAgICAgICBpZiAoaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4uRE9NX0NMQVNTX0lOVkFMSUQpKSBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4uRE9NX0NMQVNTX0lOVkFMSUQpO1xuICAgIH1cblxuICAgIF9kaXNwbGF5Q29udHJvbFN1Y2Nlc3MoaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4uRE9NX0NMQVNTX1ZBTElEKSkgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoRmFzdE9yZGVyQ3N2VXBsb2FkUGx1Z2luLkRPTV9DTEFTU19WQUxJRCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX3Byb2Nlc3NGaWxlQ29udGVudHMoZmlsZSkge1xuICAgICAgICBjb25zdCBmaWxlQ29udGVudHMgPSBhd2FpdCB0aGlzLl9yZWFkRmlsZUNvbnRlbnRzKGZpbGUpIC8vIHRvZG86IGhhbmRsZSBlcnJvcnNcblxuICAgICAgICBjb25zdCBjc3ZMaW5lcyA9IGZpbGVDb250ZW50cy5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbnN0IGNzdkhlYWRlciA9IGNzdkxpbmVzLnNoaWZ0KCk7XG5cbiAgICAgICAgdGhpcy5faW1wb3J0RGF0YS5oZWFkZXJzID0gY3N2SGVhZGVyLnNwbGl0KC9bLDtdLyk7XG5cbiAgICAgICAgdGhpcy5faW1wb3J0RGF0YS5kYXRhID0gY3N2TGluZXMubWFwKGxpbmUgPT4gbGluZS5zcGxpdCgvWyw7XS8pKTtcbiAgICB9XG5cbiAgICBfcmVhZEZpbGVDb250ZW50cyhmaWxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcblxuICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmaWxlUmVhZGVyLnJlc3VsdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbGVSZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZmlsZVJlYWRlci5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9hZGRDb2x1bW5TZWxlY3RPcHRpb25zKCkge1xuICAgICAgICBbdGhpcy5fZWxlbWVudHMucHJvZHVjdE51bWJlckNvbHVtblNlbGVjdCwgdGhpcy5fZWxlbWVudHMuYW1vdW50Q29sdW1uU2VsZWN0XS5mb3JFYWNoKHNlbGVjdEVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyT3B0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl9pbXBvcnREYXRhLmhlYWRlcnMuZm9yRWFjaCgoaGVhZGVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGluZGV4O1xuICAgICAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBoZWFkZXI7XG4gICAgICAgICAgICAgICAgaGVhZGVyT3B0aW9ucy5wdXNoKG9wdGlvbik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb2x1bW5TZWxlY3RPcHRpb25zKHNlbGVjdEVsZW1lbnQpO1xuXG4gICAgICAgICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZCguLi5oZWFkZXJPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NsZWFyQ29sdW1uU2VsZWN0T3B0aW9ucyhzZWxlY3RFbGVtZW50LCBrZWVwUGxhY2Vob2xkZXIgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvblJlbW92ZVNlbGVjdG9yID0ga2VlcFBsYWNlaG9sZGVyID8gJzpub3QoW3ZhbHVlPVwiLTFcIl0pJyA6ICdvcHRpb24nO1xuICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHNlbGVjdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25SZW1vdmVTZWxlY3RvciksIG9wdGlvbkVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2VuYWJsZUNvbHVtblNlbGVjdHMoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnByb2R1Y3ROdW1iZXJDb2x1bW5TZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB0aGlzLl9lbGVtZW50cy5hbW91bnRDb2x1bW5TZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIF9jaGVja0NvbHVtblNlbGVjdFN0YXRlcygpIHtcbiAgICAgICAgdGhpcy5fY29sdW1uU2VsZWN0c1ZhbGlkID0gKCh0aGlzLl9lbGVtZW50cy5wcm9kdWN0TnVtYmVyQ29sdW1uU2VsZWN0LnZhbHVlID49IDApICYmICh0aGlzLl9lbGVtZW50cy5hbW91bnRDb2x1bW5TZWxlY3QudmFsdWUgPj0gMCkpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb2x1bW5TZWxlY3RzVmFsaWQpIHRoaXMuX2VsZW1lbnRzLmltcG9ydEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7IGVsc2UgdGhpcy5fZWxlbWVudHMuaW1wb3J0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKVxuICAgIH1cblxuICAgIF9pbXBvcnRCdXR0b25DbGlja2VkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbHVtblNlbGVjdHNWYWxpZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHt2YWxpZDogaW1wb3J0RGF0YVZhbGlkLCBlcnJvckNvZGU6IGltcG9ydEVycm9yQ29kZX0gPSB0aGlzLl92YWxpZGF0ZUltcG9ydERhdGEoKTtcbiAgICAgICAgaWYgKCFpbXBvcnREYXRhVmFsaWQpIHJldHVybiB0aGlzLl9kaXNwbGF5Q29udHJvbEVycm9yKHRoaXMuX2VsZW1lbnRzLmNzdkZpbGVJbnB1dCwgdGhpcy5fZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrLmNzdkZpbGVJbnB1dCwgaW1wb3J0RXJyb3JDb2RlKTtcblxuICAgICAgICBjb25zdCB7cHJvZHVjdE51bWJlckluZGV4LCBhbW91bnRJbmRleH0gPSB0aGlzLl9nZXRJbXBvcnRDb2x1bW5JbmRpemVzKCk7XG5cbiAgICAgICAgY29uc3QgcHJvZHVjdE51bWJlcklucHV0SWQgPSAoaW5kZXgpID0+IHRoaXMub3B0aW9ucy5tYW51YWxGb3JtRmllbGRJZFNjaGVtYXMucHJvZHVjdE51bWJlci5yZXBsYWNlKC9cXCRpLywgaW5kZXgpO1xuICAgICAgICBjb25zdCBhbW91bnRJbnB1dElkID0gKGluZGV4KSA9PiB0aGlzLm9wdGlvbnMubWFudWFsRm9ybUZpZWxkSWRTY2hlbWFzLmFtb3VudC5yZXBsYWNlKC9cXCRpLywgaW5kZXgpO1xuXG4gICAgICAgIC8vIGNsZWFyIGFsbCBmb3JtIGlucHV0IHJvd3MgKHRoZXkgd2lsbCBiZSBhZGRlZCBiYWNrIHdoZW4gaW5qZWN0aW5nIGltcG9ydGVkIGRhdGEpXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLm1hbnVhbElucHV0Rm9ybUlucHV0TGlzdC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICB0aGlzLl9pbXBvcnREYXRhLmRhdGEuZm9yRWFjaCgoZGF0YXNldCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3ROdW1iZXIgPSBkYXRhc2V0W3Byb2R1Y3ROdW1iZXJJbmRleF07XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBkYXRhc2V0W2Ftb3VudEluZGV4XTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHJlbGF0ZWQgaW5wdXQgcm93XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5tYW51YWxJbnB1dEZvcm1JbnB1dExpc3QuX19wbHVnaW5zLmdldCgnRmFzdE9yZGVyQWRqdXN0YWJsZUZvcm1QbHVnaW4nKS5hcHBlbmRGb3JtUm93KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3ROdW1iZXJJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByb2R1Y3ROdW1iZXJJbnB1dElkKGluZGV4KSk7XG4gICAgICAgICAgICBjb25zdCBhbW91bnRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFtb3VudElucHV0SWQoaW5kZXgpKTtcblxuICAgICAgICAgICAgcHJvZHVjdE51bWJlcklucHV0LnZhbHVlID0gcHJvZHVjdE51bWJlcjtcbiAgICAgICAgICAgIGFtb3VudElucHV0LnZhbHVlID0gYW1vdW50O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhZGQgYW5vdGhlciBmb3JtIHJvdyB0byBlbmFibGUgdGhlIHVzZXIgdG8gYWRkIG1vcmUgZGF0YVxuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYW51YWxJbnB1dEZvcm1JbnB1dExpc3QuX19wbHVnaW5zLmdldCgnRmFzdE9yZGVyQWRqdXN0YWJsZUZvcm1QbHVnaW4nKS5hcHBlbmRGb3JtUm93KCk7XG5cbiAgICAgICAgLy90b2RvOiBzaG93IGNvbmZpcm1hdGlvbiBtb2RhbFxuXG4gICAgICAgIC8vIHN3aXRjaCB0byBpbXBvcnQgZm9ybSB0YWJcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFudWFsSW5wdXRGb3JtVGFiQ29udHJvbC5jbGljaygpO1xuXG4gICAgICAgIC8vY2xlYXIgcmVsYXRlZCBpbnB1dHNcbiAgICAgICAgdGhpcy5fY2xlYXJGaWxlSW5wdXQoKTtcbiAgICAgICAgdGhpcy5fY2xlYXJDb2x1bW5TZWxlY3RPcHRpb25zKHRoaXMuX2VsZW1lbnRzLnByb2R1Y3ROdW1iZXJDb2x1bW5TZWxlY3QpO1xuICAgICAgICB0aGlzLl9jbGVhckNvbHVtblNlbGVjdE9wdGlvbnModGhpcy5fZWxlbWVudHMuYW1vdW50Q29sdW1uU2VsZWN0KTtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGVJbXBvcnREYXRhKCkge1xuICAgICAgICBjb25zdCB7cHJvZHVjdE51bWJlckluZGV4LCBhbW91bnRJbmRleH0gPSB0aGlzLl9nZXRJbXBvcnRDb2x1bW5JbmRpemVzKCk7XG5cbiAgICAgICAgLy8gY2hlY2sgcXVhbnRpdHkgY29sdW1uIG9mIHRoZSBpbXBvcnRcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pbXBvcnREYXRhLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5faW1wb3J0RGF0YS5kYXRhW2ldW2Ftb3VudEluZGV4XTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oTnVtYmVyLnBhcnNlSW50KHZhbHVlKSkpIHJldHVybiB0aGlzLl9nZW5lcmF0ZUVycm9yT2JqZWN0KCdpbXBvcnQtZGF0YS0taW52YWxpZC1xdHR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkYXRhIHNlZW1zIHRvIGJlIHZhbGlkXG4gICAgICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZUVycm9yT2JqZWN0KG51bGwsIHRydWUpO1xuICAgIH1cblxuICAgIF9nZXRJbXBvcnRDb2x1bW5JbmRpemVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvZHVjdE51bWJlckluZGV4OiB0aGlzLl9lbGVtZW50cy5wcm9kdWN0TnVtYmVyQ29sdW1uU2VsZWN0LnZhbHVlLFxuICAgICAgICAgICAgYW1vdW50SW5kZXg6IHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdC52YWx1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9jbGVhckZpbGVJbnB1dCgpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LnZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuY3N2SW5wdXRMYWJlbC5pbm5lclRleHQgPSB0aGlzLl9kZWZhdWx0Q3N2SW5wdXRMYWJlbFRleHQ7XG4gICAgfVxuXG4gICAgX2Rpc3BsYXlBbGVydCh0ZXh0LCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IGFsZXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYWxlcnQuY2xhc3NMaXN0LmFkZCgnYWxlcnQnLCBgYWxlcnQtJHt0eXBlfWAsICdhbGVydC1kaXNtaXNzaWJsZScsICdmYWRlJywgJ3Nob3cnKTtcbiAgICAgICAgYWxlcnQucm9sZSA9IFwiYWxlcnRcIjtcblxuICAgICAgICBjb25zdCBhbGVydENvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBhbGVydENvbnRlbnRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWxlcnQtY29udGVudC1jb250YWluZXInKTtcblxuICAgICAgICBjb25zdCBhbGVydENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBhbGVydENvbnRlbnQuY2xhc3NMaXN0LmFkZCgnYWxlcnQtY29udGVudCcsICdweS0yJyk7XG4gICAgICAgIGFsZXJ0Q29udGVudC5pbm5lclRleHQgPSB0ZXh0O1xuXG4gICAgICAgIGNvbnN0IGRpc21pc3NBbGVydEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGRpc21pc3NBbGVydEJ1dHRvbi50eXBlID0gXCJidXR0b25cIjtcbiAgICAgICAgZGlzbWlzc0FsZXJ0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjbG9zZVwiKTtcbiAgICAgICAgZGlzbWlzc0FsZXJ0QnV0dG9uLmFyaWFMYWJlbCA9IFwiQ2xvc2VcIjtcbiAgICAgICAgZGlzbWlzc0FsZXJ0QnV0dG9uLmRhdGFzZXQuZGlzbWlzcyA9IFwiYWxlcnRcIjtcblxuICAgICAgICBjb25zdCBidXR0b25Db250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGJ1dHRvbkNvbnRlbnQuYXJpYUhpZGRlbiA9IFwidHJ1ZVwiO1xuICAgICAgICBidXR0b25Db250ZW50LmlubmVySFRNTCA9IFwiJnRpbWVzO1wiO1xuXG4gICAgICAgIGRpc21pc3NBbGVydEJ1dHRvbi5hcHBlbmQoYnV0dG9uQ29udGVudCk7XG5cbiAgICAgICAgYWxlcnRDb250ZW50Q29udGFpbmVyLmFwcGVuZChhbGVydENvbnRlbnQsIGRpc21pc3NBbGVydEJ1dHRvbik7XG4gICAgICAgIGFsZXJ0LmFwcGVuZChhbGVydENvbnRlbnRDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmNzdkZpbGVJbnB1dC5jbG9zZXN0KFwiLmNvbnRhaW5lclwiKS5hcHBlbmQoYWxlcnQpO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQXlDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFUQTtBQUFBO0FBQUE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUFFQTtBQUNBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7O0FBRUE7Ozs7Ozs7QUFDQTtBQUNBOztBQURBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBRUE7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUxBO0FBQUE7QUFBQTtBQUNBO0FBT0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFqWUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQVRBO0FBWUE7QUFFQTtBQUNBO0FBQUE7QUFEQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFJQTtBQUNBO0FBQUE7QUFEQTtBQUlBO0FBQUE7QUFFQTtBQUVBO0FBL0JBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///d5GL\n");

/***/ }),

/***/ "f+fv":
/*!**************************************************************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/plugin/fast-order-adjustable-form/form-row-handler.js ***!
  \**************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FormRowHandler; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar FormRowHandler = /*#__PURE__*/function () {\n  function FormRowHandler(productNumberFieldPlaceholder, quantityFieldPlaceholder, productNumberFieldNameSchema, quantityFieldNameSchema, inputChangedCallback) {\n    _classCallCheck(this, FormRowHandler);\n\n    this._productNumberFieldPlaceholder = productNumberFieldPlaceholder;\n    this._quantityFieldPlaceholder = quantityFieldPlaceholder;\n\n    this._productNumberFieldName = function (index) {\n      return productNumberFieldNameSchema.replace(/\\$i/, index.toString());\n    };\n\n    this._quantityFieldName = function (index) {\n      return quantityFieldNameSchema.replace(/\\$i/, index.toString());\n    };\n\n    this._inputInputCallback = inputChangedCallback;\n  }\n\n  _createClass(FormRowHandler, [{\n    key: \"createFormRow\",\n    value: function createFormRow(index) {\n      var productNumberValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var quantityValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var rowContainer = document.createElement('div');\n      rowContainer.classList.add(FormRowHandler.ROW_CONTAINER_CLASS, 'row', 'mt-2');\n      var productNumberInputContainer = document.createElement('div');\n      productNumberInputContainer.classList.add('col-8');\n      var quantityInputContainer = document.createElement('div');\n      quantityInputContainer.classList.add('col-4');\n\n      var productNumberInputField = this._createInputField(this._productNumberFieldName(index), this._productNumberFieldPlaceholder, 'text', productNumberValue);\n\n      var quantityInputField = this._createInputField(this._quantityFieldName(index), this._quantityFieldPlaceholder, 'text', quantityValue);\n\n      productNumberInputContainer.append(productNumberInputField);\n      quantityInputContainer.append(quantityInputField);\n      rowContainer.append(productNumberInputContainer, quantityInputContainer);\n      return rowContainer;\n    }\n  }, {\n    key: \"_createInputField\",\n    value: function _createInputField(name, placeholder) {\n      var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'text';\n      var initialValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n      var formGroup = document.createElement('div');\n      formGroup.classList.add('form-group', 'mb-0');\n      var input = document.createElement('input');\n      input.classList.add('form-control');\n      input.type = type;\n      input.id = name;\n      input.name = name;\n      input.value = initialValue;\n      input.placeholder = placeholder;\n      input.addEventListener('input', this._inputInputCallback);\n      formGroup.append(input);\n      return formGroup;\n    }\n  }]);\n\n  return FormRowHandler;\n}();\n\n_defineProperty(FormRowHandler, \"ROW_CONTAINER_CLASS\", 'order-list-row-container');\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZitmdi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvcGx1Z2luL2Zhc3Qtb3JkZXItYWRqdXN0YWJsZS1mb3JtL2Zvcm0tcm93LWhhbmRsZXIuanM/YmNhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtUm93SGFuZGxlciB7XG5cbiAgICBzdGF0aWMgUk9XX0NPTlRBSU5FUl9DTEFTUyA9ICdvcmRlci1saXN0LXJvdy1jb250YWluZXInO1xuXG4gICAgY29uc3RydWN0b3IocHJvZHVjdE51bWJlckZpZWxkUGxhY2Vob2xkZXIsIHF1YW50aXR5RmllbGRQbGFjZWhvbGRlciwgcHJvZHVjdE51bWJlckZpZWxkTmFtZVNjaGVtYSwgcXVhbnRpdHlGaWVsZE5hbWVTY2hlbWEsIGlucHV0Q2hhbmdlZENhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3Byb2R1Y3ROdW1iZXJGaWVsZFBsYWNlaG9sZGVyID0gcHJvZHVjdE51bWJlckZpZWxkUGxhY2Vob2xkZXI7XG4gICAgICAgIHRoaXMuX3F1YW50aXR5RmllbGRQbGFjZWhvbGRlciA9IHF1YW50aXR5RmllbGRQbGFjZWhvbGRlcjtcblxuICAgICAgICB0aGlzLl9wcm9kdWN0TnVtYmVyRmllbGROYW1lID0gaW5kZXggPT4gcHJvZHVjdE51bWJlckZpZWxkTmFtZVNjaGVtYS5yZXBsYWNlKC9cXCRpLywgaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuX3F1YW50aXR5RmllbGROYW1lID0gaW5kZXggPT4gcXVhbnRpdHlGaWVsZE5hbWVTY2hlbWEucmVwbGFjZSgvXFwkaS8sIGluZGV4LnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIHRoaXMuX2lucHV0SW5wdXRDYWxsYmFjayA9IGlucHV0Q2hhbmdlZENhbGxiYWNrO1xuICAgIH1cblxuICAgIGNyZWF0ZUZvcm1Sb3coaW5kZXgsIHByb2R1Y3ROdW1iZXJWYWx1ZSA9ICcnLCBxdWFudGl0eVZhbHVlID0gJycpIHtcbiAgICAgICAgY29uc3Qgcm93Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJvd0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKEZvcm1Sb3dIYW5kbGVyLlJPV19DT05UQUlORVJfQ0xBU1MsICdyb3cnLCAnbXQtMicpO1xuXG4gICAgICAgIGNvbnN0IHByb2R1Y3ROdW1iZXJJbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwcm9kdWN0TnVtYmVySW5wdXRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29sLTgnKTtcblxuICAgICAgICBjb25zdCBxdWFudGl0eUlucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHF1YW50aXR5SW5wdXRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29sLTQnKTtcblxuICAgICAgICBjb25zdCBwcm9kdWN0TnVtYmVySW5wdXRGaWVsZCA9IHRoaXMuX2NyZWF0ZUlucHV0RmllbGQodGhpcy5fcHJvZHVjdE51bWJlckZpZWxkTmFtZShpbmRleCksIHRoaXMuX3Byb2R1Y3ROdW1iZXJGaWVsZFBsYWNlaG9sZGVyLCAndGV4dCcsIHByb2R1Y3ROdW1iZXJWYWx1ZSk7XG4gICAgICAgIGNvbnN0IHF1YW50aXR5SW5wdXRGaWVsZCA9IHRoaXMuX2NyZWF0ZUlucHV0RmllbGQodGhpcy5fcXVhbnRpdHlGaWVsZE5hbWUoaW5kZXgpLCB0aGlzLl9xdWFudGl0eUZpZWxkUGxhY2Vob2xkZXIsICd0ZXh0JywgcXVhbnRpdHlWYWx1ZSk7XG5cbiAgICAgICAgcHJvZHVjdE51bWJlcklucHV0Q29udGFpbmVyLmFwcGVuZChwcm9kdWN0TnVtYmVySW5wdXRGaWVsZCk7XG4gICAgICAgIHF1YW50aXR5SW5wdXRDb250YWluZXIuYXBwZW5kKHF1YW50aXR5SW5wdXRGaWVsZCk7XG5cbiAgICAgICAgcm93Q29udGFpbmVyLmFwcGVuZChwcm9kdWN0TnVtYmVySW5wdXRDb250YWluZXIsIHF1YW50aXR5SW5wdXRDb250YWluZXIpO1xuXG4gICAgICAgIHJldHVybiByb3dDb250YWluZXI7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUlucHV0RmllbGQobmFtZSwgcGxhY2Vob2xkZXIsIHR5cGUgPSAndGV4dCcsIGluaXRpYWxWYWx1ZSA9ICcnKSB7XG4gICAgICAgIGNvbnN0IGZvcm1Hcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBmb3JtR3JvdXAuY2xhc3NMaXN0LmFkZCgnZm9ybS1ncm91cCcsICdtYi0wJylcblxuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2Zvcm0tY29udHJvbCcpO1xuICAgICAgICBpbnB1dC50eXBlID0gdHlwZTtcbiAgICAgICAgaW5wdXQuaWQgPSBuYW1lO1xuICAgICAgICBpbnB1dC5uYW1lID0gbmFtZTtcbiAgICAgICAgaW5wdXQudmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG5cbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9pbnB1dElucHV0Q2FsbGJhY2spO1xuXG4gICAgICAgIGZvcm1Hcm91cC5hcHBlbmQoaW5wdXQpO1xuXG4gICAgICAgIHJldHVybiBmb3JtR3JvdXA7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7Ozs7OztBQXBEQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///f+fv\n");

/***/ }),

/***/ "nLef":
/*!****************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/main.js ***!
  \****************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugin_fast_order_csv_upload_fast_order_csv_upload_plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./plugin/fast-order-csv-upload/fast-order-csv-upload.plugin */ \"d5GL\");\n/* harmony import */ var _plugin_fast_order_adjustable_form_fast_order_adjustable_form_plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./plugin/fast-order-adjustable-form/fast-order-adjustable-form.plugin */ \"4lRj\");\n\n\nvar PluginManager = window.PluginManager;\nPluginManager.register('FastOrderCsvUploadPlugin', _plugin_fast_order_csv_upload_fast_order_csv_upload_plugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"], '[data-fast-order-csv-upload-plugin]');\nPluginManager.register('FastOrderAdjustableFormPlugin', _plugin_fast_order_adjustable_form_fast_order_adjustable_form_plugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"], '[data-fast-order-adjustable-form-plugin]');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibkxlZi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvbWFpbi5qcz80NzliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4gZnJvbSBcIi4vcGx1Z2luL2Zhc3Qtb3JkZXItY3N2LXVwbG9hZC9mYXN0LW9yZGVyLWNzdi11cGxvYWQucGx1Z2luXCI7XG5pbXBvcnQgRmFzdE9yZGVyQWRqdXN0YWJsZUZvcm1QbHVnaW4gZnJvbSAnLi9wbHVnaW4vZmFzdC1vcmRlci1hZGp1c3RhYmxlLWZvcm0vZmFzdC1vcmRlci1hZGp1c3RhYmxlLWZvcm0ucGx1Z2luJztcblxuY29uc3QgUGx1Z2luTWFuYWdlciA9IHdpbmRvdy5QbHVnaW5NYW5hZ2VyO1xuUGx1Z2luTWFuYWdlci5yZWdpc3RlcignRmFzdE9yZGVyQ3N2VXBsb2FkUGx1Z2luJywgRmFzdE9yZGVyQ3N2VXBsb2FkUGx1Z2luLCAnW2RhdGEtZmFzdC1vcmRlci1jc3YtdXBsb2FkLXBsdWdpbl0nKTtcblBsdWdpbk1hbmFnZXIucmVnaXN0ZXIoJ0Zhc3RPcmRlckFkanVzdGFibGVGb3JtUGx1Z2luJywgRmFzdE9yZGVyQWRqdXN0YWJsZUZvcm1QbHVnaW4sICdbZGF0YS1mYXN0LW9yZGVyLWFkanVzdGFibGUtZm9ybS1wbHVnaW5dJylcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///nLef\n");

/***/ })

},[["nLef","runtime","vendor-node","vendor-shared"]]]);