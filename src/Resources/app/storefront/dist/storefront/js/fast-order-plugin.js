(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["fast-order-plugin"],{

/***/ "4lRj":
/*!*******************************************************************************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/plugin/fast-order-adjustable-form/fast-order-adjustable-form.plugin.js ***!
  \*******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FastOrderAdjustableFormPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var _form_row_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form-row-handler */ \"f+fv\");\n/* harmony import */ var _extensions_plugin_option_check__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../extensions/plugin-option-check */ \"EkxF\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar FastOrderAdjustableFormPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(FastOrderAdjustableFormPlugin, _Plugin);\n\n  function FastOrderAdjustableFormPlugin() {\n    _classCallCheck(this, FastOrderAdjustableFormPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FastOrderAdjustableFormPlugin).apply(this, arguments));\n  }\n\n  _createClass(FastOrderAdjustableFormPlugin, [{\n    key: \"init\",\n    value: function init() {\n      _extensions_plugin_option_check__WEBPACK_IMPORTED_MODULE_2__[\"default\"].CheckProvidedOptions(this.options, FastOrderAdjustableFormPlugin.requiredOptions, this.constructor.name);\n      var _this$options = this.options,\n          placeholders = _this$options.placeholders,\n          fieldNameSchemas = _this$options.fieldNameSchemas;\n      this._formRowHandler = new _form_row_handler__WEBPACK_IMPORTED_MODULE_1__[\"default\"](placeholders.productNumber, placeholders.amount, fieldNameSchemas.productNumber, fieldNameSchemas.amount, this._formInputInput.bind(this)); // create the first row if none exist\n\n      if (this._getCurrentFormRowCount() === 0) this.appendFormRow();\n    }\n  }, {\n    key: \"appendFormRow\",\n    value: function appendFormRow() {\n      var formRow = this._formRowHandler.createFormRow(this._getCurrentFormRowCount());\n\n      this.el.append(formRow);\n    }\n  }, {\n    key: \"_getCurrentFormRowCount\",\n    value: function _getCurrentFormRowCount() {\n      return this.el.querySelectorAll(\".\".concat(_form_row_handler__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ROW_CONTAINER_CLASS)).length;\n    }\n  }, {\n    key: \"_getSchemaTestRegex\",\n    value: function _getSchemaTestRegex(schema) {\n      // create a test regex from a schema using $i as placeholder for the index.\n      // index is a match group, so it can be used to get the index out of a converted schema.\n      // access it on array offset 1 of the match result.\n      return new RegExp(schema.replace(/\\$i/, '([0-9]+)'));\n    }\n  }, {\n    key: \"_formInputInput\",\n    value: function _formInputInput(event) {\n      // only handle events, triggered by product number fields\n      var productFieldNameRegex = this._getSchemaTestRegex(this.options.fieldNameSchemas.productNumber);\n\n      if (!productFieldNameRegex.test(event.target.name)) return; // only continue if field is in the last row\n\n      var index = Number.parseInt(event.target.name.match(productFieldNameRegex)[1]);\n      if (index !== this._getCurrentFormRowCount() - 1) return; // append new row\n\n      this.appendFormRow();\n    }\n  }]);\n\n  return FastOrderAdjustableFormPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n_defineProperty(FastOrderAdjustableFormPlugin, \"requiredOptions\", ['placeholders.productNumber', 'placeholders.amount', 'fieldNameSchemas.productNumber', 'fieldNameSchemas.amount']);\n\n_defineProperty(FastOrderAdjustableFormPlugin, \"options\", {\n  placeholders: {\n    productNumber: null,\n    amount: null\n  },\n  fieldNameSchemas: {\n    productNumber: null,\n    amount: null\n  }\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNGxSai5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvcGx1Z2luL2Zhc3Qtb3JkZXItYWRqdXN0YWJsZS1mb3JtL2Zhc3Qtb3JkZXItYWRqdXN0YWJsZS1mb3JtLnBsdWdpbi5qcz8xMjMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbHVnaW4gZnJvbSBcInNyYy9wbHVnaW4tc3lzdGVtL3BsdWdpbi5jbGFzc1wiO1xuaW1wb3J0IEZvcm1Sb3dIYW5kbGVyIGZyb20gXCIuL2Zvcm0tcm93LWhhbmRsZXJcIjtcbmltcG9ydCBQbHVnaW5PcHRpb25DaGVjayBmcm9tIFwiLi4vZXh0ZW5zaW9ucy9wbHVnaW4tb3B0aW9uLWNoZWNrXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZhc3RPcmRlckFkanVzdGFibGVGb3JtUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblxuICAgIHN0YXRpYyByZXF1aXJlZE9wdGlvbnMgPSBbXG4gICAgICAgICdwbGFjZWhvbGRlcnMucHJvZHVjdE51bWJlcicsXG4gICAgICAgICdwbGFjZWhvbGRlcnMuYW1vdW50JyxcbiAgICAgICAgJ2ZpZWxkTmFtZVNjaGVtYXMucHJvZHVjdE51bWJlcicsXG4gICAgICAgICdmaWVsZE5hbWVTY2hlbWFzLmFtb3VudCcsXG4gICAgXTtcblxuICAgIHN0YXRpYyBvcHRpb25zID0ge1xuICAgICAgICBwbGFjZWhvbGRlcnM6IHtcbiAgICAgICAgICAgIHByb2R1Y3ROdW1iZXI6IG51bGwsXG4gICAgICAgICAgICBhbW91bnQ6IG51bGxcbiAgICAgICAgfSxcblxuICAgICAgICBmaWVsZE5hbWVTY2hlbWFzOiB7XG4gICAgICAgICAgICBwcm9kdWN0TnVtYmVyOiBudWxsLFxuICAgICAgICAgICAgYW1vdW50OiBudWxsXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgUGx1Z2luT3B0aW9uQ2hlY2suQ2hlY2tQcm92aWRlZE9wdGlvbnModGhpcy5vcHRpb25zLCBGYXN0T3JkZXJBZGp1c3RhYmxlRm9ybVBsdWdpbi5yZXF1aXJlZE9wdGlvbnMsIHRoaXMuY29uc3RydWN0b3IubmFtZSk7XG5cbiAgICAgICAgY29uc3Qge3BsYWNlaG9sZGVycywgZmllbGROYW1lU2NoZW1hc30gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2Zvcm1Sb3dIYW5kbGVyID0gbmV3IEZvcm1Sb3dIYW5kbGVyKFxuICAgICAgICAgICAgcGxhY2Vob2xkZXJzLnByb2R1Y3ROdW1iZXIsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcnMuYW1vdW50LFxuICAgICAgICAgICAgZmllbGROYW1lU2NoZW1hcy5wcm9kdWN0TnVtYmVyLFxuICAgICAgICAgICAgZmllbGROYW1lU2NoZW1hcy5hbW91bnQsXG4gICAgICAgICAgICB0aGlzLl9mb3JtSW5wdXRJbnB1dC5iaW5kKHRoaXMpXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBmaXJzdCByb3cgaWYgbm9uZSBleGlzdFxuICAgICAgICBpZiAodGhpcy5fZ2V0Q3VycmVudEZvcm1Sb3dDb3VudCgpID09PSAwKVxuICAgICAgICAgICAgdGhpcy5hcHBlbmRGb3JtUm93KCk7XG4gICAgfVxuXG4gICAgYXBwZW5kRm9ybVJvdygpIHtcbiAgICAgICAgY29uc3QgZm9ybVJvdyA9IHRoaXMuX2Zvcm1Sb3dIYW5kbGVyLmNyZWF0ZUZvcm1Sb3codGhpcy5fZ2V0Q3VycmVudEZvcm1Sb3dDb3VudCgpKTtcbiAgICAgICAgdGhpcy5lbC5hcHBlbmQoZm9ybVJvdyk7XG4gICAgfVxuXG4gICAgX2dldEN1cnJlbnRGb3JtUm93Q291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke0Zvcm1Sb3dIYW5kbGVyLlJPV19DT05UQUlORVJfQ0xBU1N9YCkubGVuZ3RoO1xuICAgIH1cblxuICAgIF9nZXRTY2hlbWFUZXN0UmVnZXgoc2NoZW1hKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIHRlc3QgcmVnZXggZnJvbSBhIHNjaGVtYSB1c2luZyAkaSBhcyBwbGFjZWhvbGRlciBmb3IgdGhlIGluZGV4LlxuICAgICAgICAvLyBpbmRleCBpcyBhIG1hdGNoIGdyb3VwLCBzbyBpdCBjYW4gYmUgdXNlZCB0byBnZXQgdGhlIGluZGV4IG91dCBvZiBhIGNvbnZlcnRlZCBzY2hlbWEuXG4gICAgICAgIC8vIGFjY2VzcyBpdCBvbiBhcnJheSBvZmZzZXQgMSBvZiB0aGUgbWF0Y2ggcmVzdWx0LlxuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChzY2hlbWEucmVwbGFjZSgvXFwkaS8sICcoWzAtOV0rKScpKTtcbiAgICB9XG5cbiAgICBfZm9ybUlucHV0SW5wdXQoZXZlbnQpIHtcbiAgICAgICAgLy8gb25seSBoYW5kbGUgZXZlbnRzLCB0cmlnZ2VyZWQgYnkgcHJvZHVjdCBudW1iZXIgZmllbGRzXG4gICAgICAgIGNvbnN0IHByb2R1Y3RGaWVsZE5hbWVSZWdleCA9IHRoaXMuX2dldFNjaGVtYVRlc3RSZWdleCh0aGlzLm9wdGlvbnMuZmllbGROYW1lU2NoZW1hcy5wcm9kdWN0TnVtYmVyKTtcbiAgICAgICAgaWYgKCFwcm9kdWN0RmllbGROYW1lUmVnZXgudGVzdChldmVudC50YXJnZXQubmFtZSkpIHJldHVybjtcblxuICAgICAgICAvLyBvbmx5IGNvbnRpbnVlIGlmIGZpZWxkIGlzIGluIHRoZSBsYXN0IHJvd1xuICAgICAgICBjb25zdCBpbmRleCA9IE51bWJlci5wYXJzZUludChldmVudC50YXJnZXQubmFtZS5tYXRjaChwcm9kdWN0RmllbGROYW1lUmVnZXgpWzFdKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAodGhpcy5fZ2V0Q3VycmVudEZvcm1Sb3dDb3VudCgpIC0gMSkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gYXBwZW5kIG5ldyByb3dcbiAgICAgICAgdGhpcy5hcHBlbmRGb3JtUm93KCk7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFxQkE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFRQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTs7OztBQWxFQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBVUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQU5BO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4lRj\n");

/***/ }),

/***/ "EkxF":
/*!*************************************************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/plugin/extensions/plugin-option-check.js ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PluginOptionCheck; });\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PluginOptionCheck = /*#__PURE__*/function () {\n  function PluginOptionCheck() {\n    _classCallCheck(this, PluginOptionCheck);\n  }\n\n  _createClass(PluginOptionCheck, null, [{\n    key: \"CheckProvidedOptions\",\n    value: function CheckProvidedOptions(rootOptionsElement, keysToCheck, pluginName) {\n      var keyPrefix = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n      // object to store keys that need to be processed on the next recursion\n      var toCheckNext = {}; // iterate all provided keys\n\n      keysToCheck.forEach(function (key) {\n        // if key includes a dot, prepare it for next recursion\n        if (key.includes('.')) {\n          var _key$split = key.split('.'),\n              _key$split2 = _toArray(_key$split),\n              prefix = _key$split2[0],\n              parts = _key$split2.slice(1); // split prefix from the remaining key\n\n\n          if (!(prefix in toCheckNext)) toCheckNext[prefix] = []; // create empty array in toCheckNext if this is the first key on that namespace\n\n          toCheckNext[prefix].push(parts.join('.')); // add remaining key to check for next recursion\n\n          return; // don't do anything else in this recursion\n        } // if key doesn't include a dot, check if it exists on the current root options element\n\n\n        if (rootOptionsElement[key] === null) throw new Error(\"Required option '\".concat(keyPrefix + key, \"' missing for plugin \").concat(pluginName));\n      }); // if entries in toCheckNext exist, process them\n\n      if (Object.keys(toCheckNext).length > 0) {\n        Object.keys(toCheckNext).forEach(function (nextKeyPrefix) {\n          if (!(nextKeyPrefix in rootOptionsElement)) throw new Error(\"Required option namespace '\".concat(keyPrefix).concat(nextKeyPrefix, \".' missing for plugin \").concat(pluginName));\n          PluginOptionCheck.CheckProvidedOptions(rootOptionsElement[nextKeyPrefix], toCheckNext[nextKeyPrefix], pluginName, \"\".concat(keyPrefix).concat(nextKeyPrefix, \".\"));\n        });\n      }\n    }\n  }]);\n\n  return PluginOptionCheck;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRWt4Ri5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvcGx1Z2luL2V4dGVuc2lvbnMvcGx1Z2luLW9wdGlvbi1jaGVjay5qcz9jNDUzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsdWdpbk9wdGlvbkNoZWNrIHtcblxuICAgIHN0YXRpYyBDaGVja1Byb3ZpZGVkT3B0aW9ucyhyb290T3B0aW9uc0VsZW1lbnQsIGtleXNUb0NoZWNrLCBwbHVnaW5OYW1lLCBrZXlQcmVmaXggPSAnJykge1xuICAgICAgICAvLyBvYmplY3QgdG8gc3RvcmUga2V5cyB0aGF0IG5lZWQgdG8gYmUgcHJvY2Vzc2VkIG9uIHRoZSBuZXh0IHJlY3Vyc2lvblxuICAgICAgICBjb25zdCB0b0NoZWNrTmV4dCA9IHt9O1xuXG4gICAgICAgIC8vIGl0ZXJhdGUgYWxsIHByb3ZpZGVkIGtleXNcbiAgICAgICAga2V5c1RvQ2hlY2suZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgLy8gaWYga2V5IGluY2x1ZGVzIGEgZG90LCBwcmVwYXJlIGl0IGZvciBuZXh0IHJlY3Vyc2lvblxuICAgICAgICAgICAgaWYgKGtleS5pbmNsdWRlcygnLicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3ByZWZpeCwgLi4ucGFydHNdID0ga2V5LnNwbGl0KCcuJyk7IC8vIHNwbGl0IHByZWZpeCBmcm9tIHRoZSByZW1haW5pbmcga2V5XG4gICAgICAgICAgICAgICAgaWYgKCEocHJlZml4IGluIHRvQ2hlY2tOZXh0KSkgdG9DaGVja05leHRbcHJlZml4XSA9IFtdOyAvLyBjcmVhdGUgZW1wdHkgYXJyYXkgaW4gdG9DaGVja05leHQgaWYgdGhpcyBpcyB0aGUgZmlyc3Qga2V5IG9uIHRoYXQgbmFtZXNwYWNlXG4gICAgICAgICAgICAgICAgdG9DaGVja05leHRbcHJlZml4XS5wdXNoKHBhcnRzLmpvaW4oJy4nKSk7IC8vIGFkZCByZW1haW5pbmcga2V5IHRvIGNoZWNrIGZvciBuZXh0IHJlY3Vyc2lvblxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZG9uJ3QgZG8gYW55dGhpbmcgZWxzZSBpbiB0aGlzIHJlY3Vyc2lvblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBrZXkgZG9lc24ndCBpbmNsdWRlIGEgZG90LCBjaGVjayBpZiBpdCBleGlzdHMgb24gdGhlIGN1cnJlbnQgcm9vdCBvcHRpb25zIGVsZW1lbnRcbiAgICAgICAgICAgIGlmIChyb290T3B0aW9uc0VsZW1lbnRba2V5XSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVpcmVkIG9wdGlvbiAnJHtrZXlQcmVmaXggKyBrZXl9JyBtaXNzaW5nIGZvciBwbHVnaW4gJHtwbHVnaW5OYW1lfWApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiBlbnRyaWVzIGluIHRvQ2hlY2tOZXh0IGV4aXN0LCBwcm9jZXNzIHRoZW1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRvQ2hlY2tOZXh0KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0b0NoZWNrTmV4dCkuZm9yRWFjaChuZXh0S2V5UHJlZml4ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShuZXh0S2V5UHJlZml4IGluIHJvb3RPcHRpb25zRWxlbWVudCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWlyZWQgb3B0aW9uIG5hbWVzcGFjZSAnJHtrZXlQcmVmaXh9JHtuZXh0S2V5UHJlZml4fS4nIG1pc3NpbmcgZm9yIHBsdWdpbiAke3BsdWdpbk5hbWV9YCk7XG5cbiAgICAgICAgICAgICAgICBQbHVnaW5PcHRpb25DaGVjay5DaGVja1Byb3ZpZGVkT3B0aW9ucyhyb290T3B0aW9uc0VsZW1lbnRbbmV4dEtleVByZWZpeF0sIHRvQ2hlY2tOZXh0W25leHRLZXlQcmVmaXhdLCBwbHVnaW5OYW1lLCBgJHtrZXlQcmVmaXh9JHtuZXh0S2V5UHJlZml4fS5gKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7OztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///EkxF\n");

/***/ }),

/***/ "d5GL":
/*!*********************************************************************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/plugin/fast-order-csv-upload/fast-order-csv-upload.plugin.js ***!
  \*********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FastOrderCsvUploadPlugin; });\n/* harmony import */ var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/plugin-system/plugin.class */ \"FGIj\");\n/* harmony import */ var _extensions_plugin_option_check__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../extensions/plugin-option-check */ \"EkxF\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar FastOrderCsvUploadPlugin = /*#__PURE__*/function (_Plugin) {\n  _inherits(FastOrderCsvUploadPlugin, _Plugin);\n\n  function FastOrderCsvUploadPlugin() {\n    _classCallCheck(this, FastOrderCsvUploadPlugin);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FastOrderCsvUploadPlugin).apply(this, arguments));\n  }\n\n  _createClass(FastOrderCsvUploadPlugin, [{\n    key: \"init\",\n    value: function init() {\n      // check for required options\n      _extensions_plugin_option_check__WEBPACK_IMPORTED_MODULE_1__[\"default\"].CheckProvidedOptions(this.options, FastOrderCsvUploadPlugin.requiredOptions, this.constructor.name); // get control elements related to this plugin\n\n      this._getRelatedControls(); // check if the required elements could be found\n\n\n      this._checkRequiredElements({\n        '_elements.csvFileInput': this._elements.csvFileInput,\n        '_elements.csvInputLabel': this._elements.csvInputLabel,\n        '_elements.importButton': this._elements.importButton,\n        '_elements.productNumberColumnSelect': this._elements.productNumberColumnSelect,\n        '_elements.amountColumnSelect': this._elements.amountColumnSelect,\n        '_elements.invalidFeedback.csvFileInput': this._elements.invalidFeedback.csvFileInput,\n        '_elements.invalidFeedback.productNumber': this._elements.invalidFeedback.productNumber,\n        '_elements.invalidFeedback.amount': this._elements.invalidFeedback.amount,\n        '_elements.manualInputFormTabControl': this._elements.manualInputFormTabControl,\n        '_elements.manualInputFormInputList': this._elements.manualInputFormInputList\n      }); // store default label text\n\n\n      this._defaultCsvInputLabelText = this._elements.csvInputLabel.innerText; // create class variable for imported data\n\n      this._importData = {}; // create class variable for column selects status\n\n      this._columnSelectsValid = false; // disable column selects and import button\n\n      this._elements.productNumberColumnSelect.setAttribute('disabled', true);\n\n      this._elements.amountColumnSelect.setAttribute('disabled', true);\n\n      this._elements.importButton.setAttribute('disabled', true); // add event listeners\n\n\n      this._addListeners();\n    }\n  }, {\n    key: \"_checkRequiredElements\",\n    value: function _checkRequiredElements(requiredElements) {\n      var _this = this;\n\n      Object.keys(requiredElements).forEach(function (code) {\n        if (!requiredElements[code]) throw new Error(\"Could not find '\".concat(code, \"' for plugin \").concat(_this.constructor.name));\n      });\n    }\n  }, {\n    key: \"_getRelatedControls\",\n    value: function _getRelatedControls() {\n      // prepare storage structure\n      this._elements = {};\n      this._elements.invalidFeedback = {}; // get csv file input\n\n      if (this.el && this.el.nodeName === 'INPUT' && this.el.getAttribute('type') === 'file') {\n        this._elements.csvFileInput = this.el;\n      } else {\n        this._elements.csvFileInput = this.el.closest('input[type=\"file\"]');\n      } // get csv input label\n\n\n      this._elements.csvInputLabel = document.querySelector(this.options.csvInputLabel); // get csv input label\n\n      this._elements.importButton = document.querySelector(this.options.importButton); // get csv input label\n\n      this._elements.manualInputFormTabControl = document.querySelector(this.options.manualInputFormTabControl); // get csv input label\n\n      this._elements.manualInputFormInputList = document.querySelector(this.options.manualInputFormInputList); // get product number select input\n\n      this._elements.productNumberColumnSelect = document.querySelector(this.options.columnSelectElements.productNumber); // get product number select input\n\n      this._elements.amountColumnSelect = document.querySelector(this.options.columnSelectElements.amount); // get csv file input invalid feedback element\n\n      this._elements.invalidFeedback.csvFileInput = document.querySelector(this.options.invalidFeedbackElements.csvFileInput); // get product number column select invalid feedback element\n\n      this._elements.invalidFeedback.productNumber = document.querySelector(this.options.invalidFeedbackElements.productNumber); // get amount column select invalid feedback element\n\n      this._elements.invalidFeedback.amount = document.querySelector(this.options.invalidFeedbackElements.amount);\n    }\n  }, {\n    key: \"_addListeners\",\n    value: function _addListeners() {\n      // listen to change events on the csv file input\n      this._elements.csvFileInput.addEventListener('change', this._csvFileInputChanged.bind(this)); // listen to change events on the column selects\n\n\n      this._elements.productNumberColumnSelect.addEventListener('change', this._checkColumnSelectStates.bind(this));\n\n      this._elements.amountColumnSelect.addEventListener('change', this._checkColumnSelectStates.bind(this)); // listen to click events on the import button\n\n\n      this._elements.importButton.addEventListener('click', this._importButtonClicked.bind(this));\n    }\n  }, {\n    key: \"_csvFileInputChanged\",\n    value: function _csvFileInputChanged(event) {\n      var _this2 = this;\n\n      // only run if target is the plugin's csv file input\n      if (event.target !== this._elements.csvFileInput) return; // clear previous error messages\n\n      this._clearControlError(this._elements.csvFileInput, this._elements.invalidFeedback.csvFileInput);\n\n      this._clearControlError(this._elements.productNumberColumnSelect, this._elements.invalidFeedback.productNumber);\n\n      this._clearControlError(this._elements.amountColumnSelect, this._elements.invalidFeedback.amount); // validate the provided file\n\n\n      var _this$_checkSelectedF = this._checkSelectedFile(),\n          fileValid = _this$_checkSelectedF.valid,\n          fileValidationErrorCode = _this$_checkSelectedF.errorCode;\n\n      if (!fileValid) {\n        this._displayControlError(this._elements.csvFileInput, this._elements.invalidFeedback.csvFileInput, fileValidationErrorCode);\n\n        return;\n      } // show success feedback on file input\n\n\n      this._displayControlSuccess(this._elements.csvFileInput); // read and parse file contents\n\n\n      this._processFileContents(this._elements.csvFileInput.files[0]).then(function () {\n        _this2._addColumnSelectOptions();\n\n        _this2._enableColumnSelects();\n\n        _this2._elements.csvInputLabel.innerText = _this2._elements.csvFileInput.files[0].name;\n      });\n    }\n  }, {\n    key: \"_checkSelectedFile\",\n    value: function _checkSelectedFile() {\n      // get files from input element\n      var files = this._elements.csvFileInput.files; // check if any files were provided\n\n      if (!files || files.length === 0) return this._generateErrorObject('file-input--missing-file'); // check if more than one file was provided\n\n      if (files.length > 1) return this._generateErrorObject('file-input--too-many-files'); // check if provided file is of type csv\n\n      if (files[0].type !== 'text/csv') return this._generateErrorObject('file-input--invalid-file'); // generate valid error object\n\n      return this._generateErrorObject(null, true);\n    }\n  }, {\n    key: \"_generateErrorObject\",\n    value: function _generateErrorObject(errorCode) {\n      var valid = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return {\n        valid: valid,\n        errorCode: errorCode\n      };\n    }\n  }, {\n    key: \"_displayControlError\",\n    value: function _displayControlError(inputElement, feedbackElement, errorCode) {\n      this._clearControlError(inputElement, feedbackElement);\n\n      inputElement.classList.add(FastOrderCsvUploadPlugin.DOM_CLASS_INVALID);\n      feedbackElement.innerText = this.options.errorTexts[errorCode];\n    }\n  }, {\n    key: \"_clearControlError\",\n    value: function _clearControlError(inputElement, invalidFeedbackElement) {\n      invalidFeedbackElement.innerText = '';\n      if (inputElement.classList.contains(FastOrderCsvUploadPlugin.DOM_CLASS_INVALID)) inputElement.classList.remove(FastOrderCsvUploadPlugin.DOM_CLASS_INVALID);\n    }\n  }, {\n    key: \"_displayControlSuccess\",\n    value: function _displayControlSuccess(inputElement) {\n      if (!inputElement.classList.contains(FastOrderCsvUploadPlugin.DOM_CLASS_VALID)) inputElement.classList.add(FastOrderCsvUploadPlugin.DOM_CLASS_VALID);\n    }\n  }, {\n    key: \"_processFileContents\",\n    value: function () {\n      var _processFileContents2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(file) {\n        var fileContents, csvLines, csvHeader;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this._readFileContents(file);\n\n              case 2:\n                fileContents = _context.sent;\n                // todo: handle errors\n                csvLines = fileContents.split('\\n');\n                csvHeader = csvLines.shift();\n                this._importData.headers = csvHeader.split(/[,;]/);\n                this._importData.data = csvLines.map(function (line) {\n                  return line.split(/[,;]/);\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _processFileContents(_x) {\n        return _processFileContents2.apply(this, arguments);\n      }\n\n      return _processFileContents;\n    }()\n  }, {\n    key: \"_readFileContents\",\n    value: function _readFileContents(file) {\n      return new Promise(function (resolve, reject) {\n        var fileReader = new FileReader();\n        fileReader.readAsText(file);\n\n        fileReader.onload = function () {\n          resolve(fileReader.result);\n        };\n\n        fileReader.onerror = function () {\n          reject(fileReader.error);\n        };\n      });\n    }\n  }, {\n    key: \"_addColumnSelectOptions\",\n    value: function _addColumnSelectOptions() {\n      var _this3 = this;\n\n      [this._elements.productNumberColumnSelect, this._elements.amountColumnSelect].forEach(function (selectElement) {\n        var headerOptions = [];\n\n        _this3._importData.headers.forEach(function (header, index) {\n          var option = document.createElement('option');\n          option.value = index;\n          option.innerText = header;\n          headerOptions.push(option);\n        });\n\n        _this3._clearColumnSelectOptions(selectElement);\n\n        selectElement.append.apply(selectElement, headerOptions);\n      });\n    }\n  }, {\n    key: \"_clearColumnSelectOptions\",\n    value: function _clearColumnSelectOptions(selectElement) {\n      var keepPlaceholder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var optionRemoveSelector = keepPlaceholder ? ':not([value=\"-1\"])' : 'option';\n      Array.prototype.forEach.call(selectElement.querySelectorAll(optionRemoveSelector), function (optionElement) {\n        optionElement.remove();\n      });\n    }\n  }, {\n    key: \"_enableColumnSelects\",\n    value: function _enableColumnSelects() {\n      this._elements.productNumberColumnSelect.removeAttribute('disabled');\n\n      this._elements.amountColumnSelect.removeAttribute('disabled');\n    }\n  }, {\n    key: \"_checkColumnSelectStates\",\n    value: function _checkColumnSelectStates() {\n      this._columnSelectsValid = this._elements.productNumberColumnSelect.value >= 0 && this._elements.amountColumnSelect.value >= 0;\n      if (this._columnSelectsValid) this._elements.importButton.removeAttribute('disabled');else this._elements.importButton.setAttribute('disabled', true);\n    }\n  }, {\n    key: \"_importButtonClicked\",\n    value: function _importButtonClicked() {\n      var _this4 = this;\n\n      if (!this._columnSelectsValid) return;\n\n      var _this$_validateImport = this._validateImportData(),\n          importDataValid = _this$_validateImport.valid,\n          importErrorCode = _this$_validateImport.errorCode;\n\n      if (!importDataValid) return this._displayControlError(this._elements.csvFileInput, this._elements.invalidFeedback.csvFileInput, importErrorCode);\n\n      var _this$_getImportColum = this._getImportColumnIndizes(),\n          productNumberIndex = _this$_getImportColum.productNumberIndex,\n          amountIndex = _this$_getImportColum.amountIndex;\n\n      var productNumberInputId = function productNumberInputId(index) {\n        return _this4.options.manualFormFieldIdSchemas.productNumber.replace(/\\$i/, index);\n      };\n\n      var amountInputId = function amountInputId(index) {\n        return _this4.options.manualFormFieldIdSchemas.amount.replace(/\\$i/, index);\n      }; // clear all form input rows (they will be added back when injecting imported data)\n\n\n      this._elements.manualInputFormInputList.innerHTML = '';\n\n      this._importData.data.forEach(function (dataset, index) {\n        var productNumber = dataset[productNumberIndex];\n        var amount = dataset[amountIndex]; // create related input row\n\n        _this4._elements.manualInputFormInputList.__plugins.get('FastOrderAdjustableFormPlugin').appendFormRow();\n\n        var productNumberInput = document.getElementById(productNumberInputId(index));\n        var amountInput = document.getElementById(amountInputId(index));\n        productNumberInput.value = productNumber;\n        amountInput.value = amount;\n      }); // add another form row to enable the user to add more data\n\n\n      this._elements.manualInputFormInputList.__plugins.get('FastOrderAdjustableFormPlugin').appendFormRow(); //todo: show confirmation modal\n      // switch to import form tab\n\n\n      this._elements.manualInputFormTabControl.click(); //clear related inputs\n\n\n      this._clearFileInput();\n\n      this._clearColumnSelectOptions(this._elements.productNumberColumnSelect);\n\n      this._clearColumnSelectOptions(this._elements.amountColumnSelect);\n    }\n  }, {\n    key: \"_validateImportData\",\n    value: function _validateImportData() {\n      var _this$_getImportColum2 = this._getImportColumnIndizes(),\n          productNumberIndex = _this$_getImportColum2.productNumberIndex,\n          amountIndex = _this$_getImportColum2.amountIndex; // check quantity column of the import\n\n\n      for (var i = 0; i < this._importData.data.length; i++) {\n        var value = this._importData.data[i][amountIndex];\n        if (Number.isNaN(Number.parseInt(value))) return this._generateErrorObject('import-data--invalid-qtty');\n      } // data seems to be valid\n\n\n      return this._generateErrorObject(null, true);\n    }\n  }, {\n    key: \"_getImportColumnIndizes\",\n    value: function _getImportColumnIndizes() {\n      return {\n        productNumberIndex: this._elements.productNumberColumnSelect.value,\n        amountIndex: this._elements.amountColumnSelect.value\n      };\n    }\n  }, {\n    key: \"_clearFileInput\",\n    value: function _clearFileInput() {\n      this._elements.csvFileInput.value = null;\n      this._elements.csvInputLabel.innerText = this._defaultCsvInputLabelText;\n    }\n  }]);\n\n  return FastOrderCsvUploadPlugin;\n}(src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n_defineProperty(FastOrderCsvUploadPlugin, \"DOM_CLASS_INVALID\", 'is-invalid');\n\n_defineProperty(FastOrderCsvUploadPlugin, \"DOM_CLASS_VALID\", 'is-valid');\n\n_defineProperty(FastOrderCsvUploadPlugin, \"requiredOptions\", [\"columnSelectElements.productNumber\", \"columnSelectElements.amount\", \"invalidFeedbackElements.csvFileInput\", \"invalidFeedbackElements.productNumber\", \"invalidFeedbackElements.amount\", \"manualFormFieldIdSchemas.productNumber\", \"manualFormFieldIdSchemas.amount\", \"csvInputLabel\", \"importButton\", \"manualInputFormTabControl\", \"manualInputFormInputList\"]);\n\n_defineProperty(FastOrderCsvUploadPlugin, \"options\", {\n  errorTexts: {\n    'file-input--missing-file': 'A file must be selected',\n    'file-input--too-many-files': 'Only one file can be selected',\n    'file-input--invalid-file': 'Only CSV files can be selected',\n    'import-data--invalid-qtty': 'Your import contains invalid quantities'\n  },\n  columnSelectElements: {\n    productNumber: null,\n    amount: null\n  },\n  invalidFeedbackElements: {\n    csvFileInput: null,\n    productNumber: null,\n    amount: null\n  },\n  manualFormFieldIdSchemas: {\n    productNumber: null,\n    amount: null\n  },\n  csvInputLabel: null,\n  importButton: null,\n  manualInputFormTabControl: null,\n  manualInputFormInputList: null\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDVHTC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvcGx1Z2luL2Zhc3Qtb3JkZXItY3N2LXVwbG9hZC9mYXN0LW9yZGVyLWNzdi11cGxvYWQucGx1Z2luLmpzPzI1ZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsdWdpbiBmcm9tIFwic3JjL3BsdWdpbi1zeXN0ZW0vcGx1Z2luLmNsYXNzXCI7XG5pbXBvcnQgUGx1Z2luT3B0aW9uQ2hlY2sgZnJvbSBcIi4uL2V4dGVuc2lvbnMvcGx1Z2luLW9wdGlvbi1jaGVja1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXG4gICAgc3RhdGljIERPTV9DTEFTU19JTlZBTElEID0gJ2lzLWludmFsaWQnO1xuICAgIHN0YXRpYyBET01fQ0xBU1NfVkFMSUQgPSAnaXMtdmFsaWQnO1xuXG4gICAgc3RhdGljIHJlcXVpcmVkT3B0aW9ucyA9IFtcbiAgICAgICAgXCJjb2x1bW5TZWxlY3RFbGVtZW50cy5wcm9kdWN0TnVtYmVyXCIsXG4gICAgICAgIFwiY29sdW1uU2VsZWN0RWxlbWVudHMuYW1vdW50XCIsXG4gICAgICAgIFwiaW52YWxpZEZlZWRiYWNrRWxlbWVudHMuY3N2RmlsZUlucHV0XCIsXG4gICAgICAgIFwiaW52YWxpZEZlZWRiYWNrRWxlbWVudHMucHJvZHVjdE51bWJlclwiLFxuICAgICAgICBcImludmFsaWRGZWVkYmFja0VsZW1lbnRzLmFtb3VudFwiLFxuICAgICAgICBcIm1hbnVhbEZvcm1GaWVsZElkU2NoZW1hcy5wcm9kdWN0TnVtYmVyXCIsXG4gICAgICAgIFwibWFudWFsRm9ybUZpZWxkSWRTY2hlbWFzLmFtb3VudFwiLFxuICAgICAgICBcImNzdklucHV0TGFiZWxcIixcbiAgICAgICAgXCJpbXBvcnRCdXR0b25cIixcbiAgICAgICAgXCJtYW51YWxJbnB1dEZvcm1UYWJDb250cm9sXCIsXG4gICAgICAgIFwibWFudWFsSW5wdXRGb3JtSW5wdXRMaXN0XCJcbiAgICBdO1xuXG4gICAgc3RhdGljIG9wdGlvbnMgPSB7XG4gICAgICAgIGVycm9yVGV4dHM6IHtcbiAgICAgICAgICAgICdmaWxlLWlucHV0LS1taXNzaW5nLWZpbGUnOiAnQSBmaWxlIG11c3QgYmUgc2VsZWN0ZWQnLFxuICAgICAgICAgICAgJ2ZpbGUtaW5wdXQtLXRvby1tYW55LWZpbGVzJzogJ09ubHkgb25lIGZpbGUgY2FuIGJlIHNlbGVjdGVkJyxcbiAgICAgICAgICAgICdmaWxlLWlucHV0LS1pbnZhbGlkLWZpbGUnOiAnT25seSBDU1YgZmlsZXMgY2FuIGJlIHNlbGVjdGVkJyxcblxuICAgICAgICAgICAgJ2ltcG9ydC1kYXRhLS1pbnZhbGlkLXF0dHknOiAnWW91ciBpbXBvcnQgY29udGFpbnMgaW52YWxpZCBxdWFudGl0aWVzJ1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbHVtblNlbGVjdEVsZW1lbnRzOiB7XG4gICAgICAgICAgICBwcm9kdWN0TnVtYmVyOiBudWxsLFxuICAgICAgICAgICAgYW1vdW50OiBudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgaW52YWxpZEZlZWRiYWNrRWxlbWVudHM6IHtcbiAgICAgICAgICAgIGNzdkZpbGVJbnB1dDogbnVsbCxcbiAgICAgICAgICAgIHByb2R1Y3ROdW1iZXI6IG51bGwsXG4gICAgICAgICAgICBhbW91bnQ6IG51bGxcbiAgICAgICAgfSxcblxuICAgICAgICBtYW51YWxGb3JtRmllbGRJZFNjaGVtYXM6IHtcbiAgICAgICAgICAgIHByb2R1Y3ROdW1iZXI6IG51bGwsXG4gICAgICAgICAgICBhbW91bnQ6IG51bGxcbiAgICAgICAgfSxcblxuICAgICAgICBjc3ZJbnB1dExhYmVsOiBudWxsLFxuICAgICAgICBpbXBvcnRCdXR0b246IG51bGwsXG5cbiAgICAgICAgbWFudWFsSW5wdXRGb3JtVGFiQ29udHJvbDogbnVsbCxcblxuICAgICAgICBtYW51YWxJbnB1dEZvcm1JbnB1dExpc3Q6IG51bGxcbiAgICB9O1xuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIHJlcXVpcmVkIG9wdGlvbnNcbiAgICAgICAgUGx1Z2luT3B0aW9uQ2hlY2suQ2hlY2tQcm92aWRlZE9wdGlvbnModGhpcy5vcHRpb25zLCBGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4ucmVxdWlyZWRPcHRpb25zLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xuXG4gICAgICAgIC8vIGdldCBjb250cm9sIGVsZW1lbnRzIHJlbGF0ZWQgdG8gdGhpcyBwbHVnaW5cbiAgICAgICAgdGhpcy5fZ2V0UmVsYXRlZENvbnRyb2xzKCk7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHJlcXVpcmVkIGVsZW1lbnRzIGNvdWxkIGJlIGZvdW5kXG4gICAgICAgIHRoaXMuX2NoZWNrUmVxdWlyZWRFbGVtZW50cyh7XG4gICAgICAgICAgICAnX2VsZW1lbnRzLmNzdkZpbGVJbnB1dCc6IHRoaXMuX2VsZW1lbnRzLmNzdkZpbGVJbnB1dCxcbiAgICAgICAgICAgICdfZWxlbWVudHMuY3N2SW5wdXRMYWJlbCc6IHRoaXMuX2VsZW1lbnRzLmNzdklucHV0TGFiZWwsXG4gICAgICAgICAgICAnX2VsZW1lbnRzLmltcG9ydEJ1dHRvbic6IHRoaXMuX2VsZW1lbnRzLmltcG9ydEJ1dHRvbixcbiAgICAgICAgICAgICdfZWxlbWVudHMucHJvZHVjdE51bWJlckNvbHVtblNlbGVjdCc6IHRoaXMuX2VsZW1lbnRzLnByb2R1Y3ROdW1iZXJDb2x1bW5TZWxlY3QsXG4gICAgICAgICAgICAnX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdCc6IHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdCxcbiAgICAgICAgICAgICdfZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrLmNzdkZpbGVJbnB1dCc6IHRoaXMuX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5jc3ZGaWxlSW5wdXQsXG4gICAgICAgICAgICAnX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5wcm9kdWN0TnVtYmVyJzogdGhpcy5fZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrLnByb2R1Y3ROdW1iZXIsXG4gICAgICAgICAgICAnX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5hbW91bnQnOiB0aGlzLl9lbGVtZW50cy5pbnZhbGlkRmVlZGJhY2suYW1vdW50LFxuICAgICAgICAgICAgJ19lbGVtZW50cy5tYW51YWxJbnB1dEZvcm1UYWJDb250cm9sJzogdGhpcy5fZWxlbWVudHMubWFudWFsSW5wdXRGb3JtVGFiQ29udHJvbCxcbiAgICAgICAgICAgICdfZWxlbWVudHMubWFudWFsSW5wdXRGb3JtSW5wdXRMaXN0JzogdGhpcy5fZWxlbWVudHMubWFudWFsSW5wdXRGb3JtSW5wdXRMaXN0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHN0b3JlIGRlZmF1bHQgbGFiZWwgdGV4dFxuICAgICAgICB0aGlzLl9kZWZhdWx0Q3N2SW5wdXRMYWJlbFRleHQgPSB0aGlzLl9lbGVtZW50cy5jc3ZJbnB1dExhYmVsLmlubmVyVGV4dDtcblxuICAgICAgICAvLyBjcmVhdGUgY2xhc3MgdmFyaWFibGUgZm9yIGltcG9ydGVkIGRhdGFcbiAgICAgICAgdGhpcy5faW1wb3J0RGF0YSA9IHt9O1xuXG4gICAgICAgIC8vIGNyZWF0ZSBjbGFzcyB2YXJpYWJsZSBmb3IgY29sdW1uIHNlbGVjdHMgc3RhdHVzXG4gICAgICAgIHRoaXMuX2NvbHVtblNlbGVjdHNWYWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGRpc2FibGUgY29sdW1uIHNlbGVjdHMgYW5kIGltcG9ydCBidXR0b25cbiAgICAgICAgdGhpcy5fZWxlbWVudHMucHJvZHVjdE51bWJlckNvbHVtblNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmltcG9ydEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICB0aGlzLl9hZGRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICBfY2hlY2tSZXF1aXJlZEVsZW1lbnRzKHJlcXVpcmVkRWxlbWVudHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMocmVxdWlyZWRFbGVtZW50cykuZm9yRWFjaChjb2RlID0+IHtcbiAgICAgICAgICAgIGlmICghcmVxdWlyZWRFbGVtZW50c1tjb2RlXSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kICcke2NvZGV9JyBmb3IgcGx1Z2luICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIF9nZXRSZWxhdGVkQ29udHJvbHMoKSB7XG4gICAgICAgIC8vIHByZXBhcmUgc3RvcmFnZSBzdHJ1Y3R1cmVcbiAgICAgICAgdGhpcy5fZWxlbWVudHMgPSB7fTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrID0ge307XG5cbiAgICAgICAgLy8gZ2V0IGNzdiBmaWxlIGlucHV0XG4gICAgICAgIGlmICh0aGlzLmVsICYmIHRoaXMuZWwubm9kZU5hbWUgPT09ICdJTlBVVCcgJiYgdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5jc3ZGaWxlSW5wdXQgPSB0aGlzLmVsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0ID0gdGhpcy5lbC5jbG9zZXN0KCdpbnB1dFt0eXBlPVwiZmlsZVwiXScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGNzdiBpbnB1dCBsYWJlbFxuICAgICAgICB0aGlzLl9lbGVtZW50cy5jc3ZJbnB1dExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuY3N2SW5wdXRMYWJlbCk7XG5cbiAgICAgICAgLy8gZ2V0IGNzdiBpbnB1dCBsYWJlbFxuICAgICAgICB0aGlzLl9lbGVtZW50cy5pbXBvcnRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5pbXBvcnRCdXR0b24pO1xuXG4gICAgICAgIC8vIGdldCBjc3YgaW5wdXQgbGFiZWxcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFudWFsSW5wdXRGb3JtVGFiQ29udHJvbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLm1hbnVhbElucHV0Rm9ybVRhYkNvbnRyb2wpO1xuXG4gICAgICAgIC8vIGdldCBjc3YgaW5wdXQgbGFiZWxcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFudWFsSW5wdXRGb3JtSW5wdXRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMubWFudWFsSW5wdXRGb3JtSW5wdXRMaXN0KTtcblxuICAgICAgICAvLyBnZXQgcHJvZHVjdCBudW1iZXIgc2VsZWN0IGlucHV0XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnByb2R1Y3ROdW1iZXJDb2x1bW5TZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5jb2x1bW5TZWxlY3RFbGVtZW50cy5wcm9kdWN0TnVtYmVyKTtcblxuICAgICAgICAvLyBnZXQgcHJvZHVjdCBudW1iZXIgc2VsZWN0IGlucHV0XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmNvbHVtblNlbGVjdEVsZW1lbnRzLmFtb3VudCk7XG5cbiAgICAgICAgLy8gZ2V0IGNzdiBmaWxlIGlucHV0IGludmFsaWQgZmVlZGJhY2sgZWxlbWVudFxuICAgICAgICB0aGlzLl9lbGVtZW50cy5pbnZhbGlkRmVlZGJhY2suY3N2RmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuaW52YWxpZEZlZWRiYWNrRWxlbWVudHMuY3N2RmlsZUlucHV0KTtcblxuICAgICAgICAvLyBnZXQgcHJvZHVjdCBudW1iZXIgY29sdW1uIHNlbGVjdCBpbnZhbGlkIGZlZWRiYWNrIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrLnByb2R1Y3ROdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5pbnZhbGlkRmVlZGJhY2tFbGVtZW50cy5wcm9kdWN0TnVtYmVyKTtcblxuICAgICAgICAvLyBnZXQgYW1vdW50IGNvbHVtbiBzZWxlY3QgaW52YWxpZCBmZWVkYmFjayBlbGVtZW50XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5hbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMub3B0aW9ucy5pbnZhbGlkRmVlZGJhY2tFbGVtZW50cy5hbW91bnQpO1xuICAgIH1cblxuICAgIF9hZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vIGxpc3RlbiB0byBjaGFuZ2UgZXZlbnRzIG9uIHRoZSBjc3YgZmlsZSBpbnB1dFxuICAgICAgICB0aGlzLl9lbGVtZW50cy5jc3ZGaWxlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5fY3N2RmlsZUlucHV0Q2hhbmdlZC5iaW5kKHRoaXMpKTtcblxuICAgICAgICAvLyBsaXN0ZW4gdG8gY2hhbmdlIGV2ZW50cyBvbiB0aGUgY29sdW1uIHNlbGVjdHNcbiAgICAgICAgdGhpcy5fZWxlbWVudHMucHJvZHVjdE51bWJlckNvbHVtblNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9jaGVja0NvbHVtblNlbGVjdFN0YXRlcy5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuYW1vdW50Q29sdW1uU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2NoZWNrQ29sdW1uU2VsZWN0U3RhdGVzLmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8vIGxpc3RlbiB0byBjbGljayBldmVudHMgb24gdGhlIGltcG9ydCBidXR0b25cbiAgICAgICAgdGhpcy5fZWxlbWVudHMuaW1wb3J0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faW1wb3J0QnV0dG9uQ2xpY2tlZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBfY3N2RmlsZUlucHV0Q2hhbmdlZChldmVudCkge1xuICAgICAgICAvLyBvbmx5IHJ1biBpZiB0YXJnZXQgaXMgdGhlIHBsdWdpbidzIGNzdiBmaWxlIGlucHV0XG4gICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IHRoaXMuX2VsZW1lbnRzLmNzdkZpbGVJbnB1dClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBjbGVhciBwcmV2aW91cyBlcnJvciBtZXNzYWdlc1xuICAgICAgICB0aGlzLl9jbGVhckNvbnRyb2xFcnJvcih0aGlzLl9lbGVtZW50cy5jc3ZGaWxlSW5wdXQsIHRoaXMuX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5jc3ZGaWxlSW5wdXQpO1xuICAgICAgICB0aGlzLl9jbGVhckNvbnRyb2xFcnJvcih0aGlzLl9lbGVtZW50cy5wcm9kdWN0TnVtYmVyQ29sdW1uU2VsZWN0LCB0aGlzLl9lbGVtZW50cy5pbnZhbGlkRmVlZGJhY2sucHJvZHVjdE51bWJlcik7XG4gICAgICAgIHRoaXMuX2NsZWFyQ29udHJvbEVycm9yKHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdCwgdGhpcy5fZWxlbWVudHMuaW52YWxpZEZlZWRiYWNrLmFtb3VudCk7XG5cbiAgICAgICAgLy8gdmFsaWRhdGUgdGhlIHByb3ZpZGVkIGZpbGVcbiAgICAgICAgY29uc3Qge3ZhbGlkOiBmaWxlVmFsaWQsIGVycm9yQ29kZTogZmlsZVZhbGlkYXRpb25FcnJvckNvZGV9ID0gdGhpcy5fY2hlY2tTZWxlY3RlZEZpbGUoKTtcbiAgICAgICAgaWYgKCFmaWxlVmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BsYXlDb250cm9sRXJyb3IodGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LCB0aGlzLl9lbGVtZW50cy5pbnZhbGlkRmVlZGJhY2suY3N2RmlsZUlucHV0LCBmaWxlVmFsaWRhdGlvbkVycm9yQ29kZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaG93IHN1Y2Nlc3MgZmVlZGJhY2sgb24gZmlsZSBpbnB1dFxuICAgICAgICB0aGlzLl9kaXNwbGF5Q29udHJvbFN1Y2Nlc3ModGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0KTtcblxuICAgICAgICAvLyByZWFkIGFuZCBwYXJzZSBmaWxlIGNvbnRlbnRzXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGaWxlQ29udGVudHModGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LmZpbGVzWzBdKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FkZENvbHVtblNlbGVjdE9wdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZUNvbHVtblNlbGVjdHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLmNzdklucHV0TGFiZWwuaW5uZXJUZXh0ID0gdGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LmZpbGVzWzBdLm5hbWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9jaGVja1NlbGVjdGVkRmlsZSgpIHtcbiAgICAgICAgLy8gZ2V0IGZpbGVzIGZyb20gaW5wdXQgZWxlbWVudFxuICAgICAgICBjb25zdCBmaWxlcyA9IHRoaXMuX2VsZW1lbnRzLmNzdkZpbGVJbnB1dC5maWxlcztcblxuICAgICAgICAvLyBjaGVjayBpZiBhbnkgZmlsZXMgd2VyZSBwcm92aWRlZFxuICAgICAgICBpZiAoIWZpbGVzIHx8IGZpbGVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZUVycm9yT2JqZWN0KCdmaWxlLWlucHV0LS1taXNzaW5nLWZpbGUnKTtcblxuICAgICAgICAvLyBjaGVjayBpZiBtb3JlIHRoYW4gb25lIGZpbGUgd2FzIHByb3ZpZGVkXG4gICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlRXJyb3JPYmplY3QoJ2ZpbGUtaW5wdXQtLXRvby1tYW55LWZpbGVzJyk7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgcHJvdmlkZWQgZmlsZSBpcyBvZiB0eXBlIGNzdlxuICAgICAgICBpZiAoZmlsZXNbMF0udHlwZSAhPT0gJ3RleHQvY3N2JylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZUVycm9yT2JqZWN0KCdmaWxlLWlucHV0LS1pbnZhbGlkLWZpbGUnKTtcblxuICAgICAgICAvLyBnZW5lcmF0ZSB2YWxpZCBlcnJvciBvYmplY3RcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlRXJyb3JPYmplY3QobnVsbCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgX2dlbmVyYXRlRXJyb3JPYmplY3QoZXJyb3JDb2RlLCB2YWxpZCA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB7dmFsaWQsIGVycm9yQ29kZX07XG4gICAgfVxuXG4gICAgX2Rpc3BsYXlDb250cm9sRXJyb3IoaW5wdXRFbGVtZW50LCBmZWVkYmFja0VsZW1lbnQsIGVycm9yQ29kZSkge1xuICAgICAgICB0aGlzLl9jbGVhckNvbnRyb2xFcnJvcihpbnB1dEVsZW1lbnQsIGZlZWRiYWNrRWxlbWVudCk7XG5cbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoRmFzdE9yZGVyQ3N2VXBsb2FkUGx1Z2luLkRPTV9DTEFTU19JTlZBTElEKTtcblxuICAgICAgICBmZWVkYmFja0VsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5vcHRpb25zLmVycm9yVGV4dHNbZXJyb3JDb2RlXTtcbiAgICB9XG5cbiAgICBfY2xlYXJDb250cm9sRXJyb3IoaW5wdXRFbGVtZW50LCBpbnZhbGlkRmVlZGJhY2tFbGVtZW50KSB7XG4gICAgICAgIGludmFsaWRGZWVkYmFja0VsZW1lbnQuaW5uZXJUZXh0ID0gJyc7XG5cbiAgICAgICAgaWYgKGlucHV0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoRmFzdE9yZGVyQ3N2VXBsb2FkUGx1Z2luLkRPTV9DTEFTU19JTlZBTElEKSlcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKEZhc3RPcmRlckNzdlVwbG9hZFBsdWdpbi5ET01fQ0xBU1NfSU5WQUxJRCk7XG4gICAgfVxuXG4gICAgX2Rpc3BsYXlDb250cm9sU3VjY2VzcyhpbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKEZhc3RPcmRlckNzdlVwbG9hZFBsdWdpbi5ET01fQ0xBU1NfVkFMSUQpKVxuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoRmFzdE9yZGVyQ3N2VXBsb2FkUGx1Z2luLkRPTV9DTEFTU19WQUxJRCk7XG4gICAgfVxuXG4gICAgYXN5bmMgX3Byb2Nlc3NGaWxlQ29udGVudHMoZmlsZSkge1xuICAgICAgICBjb25zdCBmaWxlQ29udGVudHMgPSBhd2FpdCB0aGlzLl9yZWFkRmlsZUNvbnRlbnRzKGZpbGUpIC8vIHRvZG86IGhhbmRsZSBlcnJvcnNcblxuICAgICAgICBjb25zdCBjc3ZMaW5lcyA9IGZpbGVDb250ZW50cy5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbnN0IGNzdkhlYWRlciA9IGNzdkxpbmVzLnNoaWZ0KCk7XG5cbiAgICAgICAgdGhpcy5faW1wb3J0RGF0YS5oZWFkZXJzID0gY3N2SGVhZGVyLnNwbGl0KC9bLDtdLyk7XG5cbiAgICAgICAgdGhpcy5faW1wb3J0RGF0YS5kYXRhID0gY3N2TGluZXMubWFwKGxpbmUgPT4gbGluZS5zcGxpdCgvWyw7XS8pKTtcbiAgICB9XG5cbiAgICBfcmVhZEZpbGVDb250ZW50cyhmaWxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcblxuICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmaWxlUmVhZGVyLnJlc3VsdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbGVSZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZmlsZVJlYWRlci5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9hZGRDb2x1bW5TZWxlY3RPcHRpb25zKCkge1xuICAgICAgICBbdGhpcy5fZWxlbWVudHMucHJvZHVjdE51bWJlckNvbHVtblNlbGVjdCwgdGhpcy5fZWxlbWVudHMuYW1vdW50Q29sdW1uU2VsZWN0XS5mb3JFYWNoKHNlbGVjdEVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyT3B0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl9pbXBvcnREYXRhLmhlYWRlcnMuZm9yRWFjaCgoaGVhZGVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGluZGV4O1xuICAgICAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBoZWFkZXI7XG4gICAgICAgICAgICAgICAgaGVhZGVyT3B0aW9ucy5wdXNoKG9wdGlvbik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb2x1bW5TZWxlY3RPcHRpb25zKHNlbGVjdEVsZW1lbnQpO1xuXG4gICAgICAgICAgICBzZWxlY3RFbGVtZW50LmFwcGVuZCguLi5oZWFkZXJPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NsZWFyQ29sdW1uU2VsZWN0T3B0aW9ucyhzZWxlY3RFbGVtZW50LCBrZWVwUGxhY2Vob2xkZXIgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvblJlbW92ZVNlbGVjdG9yID0ga2VlcFBsYWNlaG9sZGVyID8gJzpub3QoW3ZhbHVlPVwiLTFcIl0pJyA6ICdvcHRpb24nO1xuICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHNlbGVjdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25SZW1vdmVTZWxlY3RvciksIG9wdGlvbkVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2VuYWJsZUNvbHVtblNlbGVjdHMoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnByb2R1Y3ROdW1iZXJDb2x1bW5TZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB0aGlzLl9lbGVtZW50cy5hbW91bnRDb2x1bW5TZWxlY3QucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIF9jaGVja0NvbHVtblNlbGVjdFN0YXRlcygpIHtcbiAgICAgICAgdGhpcy5fY29sdW1uU2VsZWN0c1ZhbGlkID0gKFxuICAgICAgICAgICAgKHRoaXMuX2VsZW1lbnRzLnByb2R1Y3ROdW1iZXJDb2x1bW5TZWxlY3QudmFsdWUgPj0gMCkgJiZcbiAgICAgICAgICAgICh0aGlzLl9lbGVtZW50cy5hbW91bnRDb2x1bW5TZWxlY3QudmFsdWUgPj0gMClcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAodGhpcy5fY29sdW1uU2VsZWN0c1ZhbGlkKVxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaW1wb3J0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMuaW1wb3J0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKVxuICAgIH1cblxuICAgIF9pbXBvcnRCdXR0b25DbGlja2VkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbHVtblNlbGVjdHNWYWxpZCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHt2YWxpZDogaW1wb3J0RGF0YVZhbGlkLCBlcnJvckNvZGU6IGltcG9ydEVycm9yQ29kZX0gPSB0aGlzLl92YWxpZGF0ZUltcG9ydERhdGEoKTtcbiAgICAgICAgaWYgKCFpbXBvcnREYXRhVmFsaWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGxheUNvbnRyb2xFcnJvcih0aGlzLl9lbGVtZW50cy5jc3ZGaWxlSW5wdXQsIHRoaXMuX2VsZW1lbnRzLmludmFsaWRGZWVkYmFjay5jc3ZGaWxlSW5wdXQsIGltcG9ydEVycm9yQ29kZSk7XG5cbiAgICAgICAgY29uc3Qge3Byb2R1Y3ROdW1iZXJJbmRleCwgYW1vdW50SW5kZXh9ID0gdGhpcy5fZ2V0SW1wb3J0Q29sdW1uSW5kaXplcygpO1xuXG4gICAgICAgIGNvbnN0IHByb2R1Y3ROdW1iZXJJbnB1dElkID0gKGluZGV4KSA9PiB0aGlzLm9wdGlvbnMubWFudWFsRm9ybUZpZWxkSWRTY2hlbWFzLnByb2R1Y3ROdW1iZXIucmVwbGFjZSgvXFwkaS8sIGluZGV4KTtcbiAgICAgICAgY29uc3QgYW1vdW50SW5wdXRJZCA9IChpbmRleCkgPT4gdGhpcy5vcHRpb25zLm1hbnVhbEZvcm1GaWVsZElkU2NoZW1hcy5hbW91bnQucmVwbGFjZSgvXFwkaS8sIGluZGV4KTtcblxuICAgICAgICAvLyBjbGVhciBhbGwgZm9ybSBpbnB1dCByb3dzICh0aGV5IHdpbGwgYmUgYWRkZWQgYmFjayB3aGVuIGluamVjdGluZyBpbXBvcnRlZCBkYXRhKVxuICAgICAgICB0aGlzLl9lbGVtZW50cy5tYW51YWxJbnB1dEZvcm1JbnB1dExpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgdGhpcy5faW1wb3J0RGF0YS5kYXRhLmZvckVhY2goKGRhdGFzZXQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0TnVtYmVyID0gZGF0YXNldFtwcm9kdWN0TnVtYmVySW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gZGF0YXNldFthbW91bnRJbmRleF07XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSByZWxhdGVkIGlucHV0IHJvd1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMubWFudWFsSW5wdXRGb3JtSW5wdXRMaXN0Ll9fcGx1Z2lucy5nZXQoJ0Zhc3RPcmRlckFkanVzdGFibGVGb3JtUGx1Z2luJykuYXBwZW5kRm9ybVJvdygpO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0TnVtYmVySW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcm9kdWN0TnVtYmVySW5wdXRJZChpbmRleCkpO1xuICAgICAgICAgICAgY29uc3QgYW1vdW50SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhbW91bnRJbnB1dElkKGluZGV4KSk7XG5cbiAgICAgICAgICAgIHByb2R1Y3ROdW1iZXJJbnB1dC52YWx1ZSA9IHByb2R1Y3ROdW1iZXI7XG4gICAgICAgICAgICBhbW91bnRJbnB1dC52YWx1ZSA9IGFtb3VudDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYWRkIGFub3RoZXIgZm9ybSByb3cgdG8gZW5hYmxlIHRoZSB1c2VyIHRvIGFkZCBtb3JlIGRhdGFcbiAgICAgICAgdGhpcy5fZWxlbWVudHMubWFudWFsSW5wdXRGb3JtSW5wdXRMaXN0Ll9fcGx1Z2lucy5nZXQoJ0Zhc3RPcmRlckFkanVzdGFibGVGb3JtUGx1Z2luJykuYXBwZW5kRm9ybVJvdygpO1xuXG4gICAgICAgIC8vdG9kbzogc2hvdyBjb25maXJtYXRpb24gbW9kYWxcblxuICAgICAgICAvLyBzd2l0Y2ggdG8gaW1wb3J0IGZvcm0gdGFiXG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLm1hbnVhbElucHV0Rm9ybVRhYkNvbnRyb2wuY2xpY2soKTtcblxuICAgICAgICAvL2NsZWFyIHJlbGF0ZWQgaW5wdXRzXG4gICAgICAgIHRoaXMuX2NsZWFyRmlsZUlucHV0KCk7XG4gICAgICAgIHRoaXMuX2NsZWFyQ29sdW1uU2VsZWN0T3B0aW9ucyh0aGlzLl9lbGVtZW50cy5wcm9kdWN0TnVtYmVyQ29sdW1uU2VsZWN0KTtcbiAgICAgICAgdGhpcy5fY2xlYXJDb2x1bW5TZWxlY3RPcHRpb25zKHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdCk7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlSW1wb3J0RGF0YSgpIHtcbiAgICAgICAgY29uc3Qge3Byb2R1Y3ROdW1iZXJJbmRleCwgYW1vdW50SW5kZXh9ID0gdGhpcy5fZ2V0SW1wb3J0Q29sdW1uSW5kaXplcygpO1xuXG4gICAgICAgIC8vIGNoZWNrIHF1YW50aXR5IGNvbHVtbiBvZiB0aGUgaW1wb3J0XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faW1wb3J0RGF0YS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2ltcG9ydERhdGEuZGF0YVtpXVthbW91bnRJbmRleF07XG4gICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKE51bWJlci5wYXJzZUludCh2YWx1ZSkpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZUVycm9yT2JqZWN0KCdpbXBvcnQtZGF0YS0taW52YWxpZC1xdHR5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkYXRhIHNlZW1zIHRvIGJlIHZhbGlkXG4gICAgICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZUVycm9yT2JqZWN0KG51bGwsIHRydWUpO1xuICAgIH1cblxuICAgIF9nZXRJbXBvcnRDb2x1bW5JbmRpemVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvZHVjdE51bWJlckluZGV4OiB0aGlzLl9lbGVtZW50cy5wcm9kdWN0TnVtYmVyQ29sdW1uU2VsZWN0LnZhbHVlLFxuICAgICAgICAgICAgYW1vdW50SW5kZXg6IHRoaXMuX2VsZW1lbnRzLmFtb3VudENvbHVtblNlbGVjdC52YWx1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9jbGVhckZpbGVJbnB1dCgpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuY3N2RmlsZUlucHV0LnZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuY3N2SW5wdXRMYWJlbC5pbm5lclRleHQgPSB0aGlzLl9kZWZhdWx0Q3N2SW5wdXRMYWJlbFRleHQ7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBb0RBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVZBO0FBQUE7QUFBQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFFQTtBQUVBOzs7QUFFQTtBQUNBO0FBRUE7Ozs7QUFFQTs7Ozs7OztBQUNBO0FBQ0E7O0FBREE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFLQTtBQUlBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBTEE7QUFBQTtBQUFBO0FBQ0E7QUFRQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQXBXQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUxBO0FBUUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRUE7QUFFQTtBQTlCQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///d5GL\n");

/***/ }),

/***/ "f+fv":
/*!**************************************************************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/plugin/fast-order-adjustable-form/form-row-handler.js ***!
  \**************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return FormRowHandler; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar FormRowHandler = /*#__PURE__*/function () {\n  function FormRowHandler(productNumberFieldPlaceholder, quantityFieldPlaceholder, productNumberFieldNameSchema, quantityFieldNameSchema, inputChangedCallback) {\n    _classCallCheck(this, FormRowHandler);\n\n    this._productNumberFieldPlaceholder = productNumberFieldPlaceholder;\n    this._quantityFieldPlaceholder = quantityFieldPlaceholder;\n\n    this._productNumberFieldName = function (index) {\n      return productNumberFieldNameSchema.replace(/\\$i/, index.toString());\n    };\n\n    this._quantityFieldName = function (index) {\n      return quantityFieldNameSchema.replace(/\\$i/, index.toString());\n    };\n\n    this._inputInputCallback = inputChangedCallback;\n  }\n\n  _createClass(FormRowHandler, [{\n    key: \"createFormRow\",\n    value: function createFormRow(index) {\n      var productNumberValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var quantityValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var rowContainer = document.createElement('div');\n      rowContainer.classList.add(FormRowHandler.ROW_CONTAINER_CLASS, 'row', 'mt-2');\n      var productNumberInputContainer = document.createElement('div');\n      productNumberInputContainer.classList.add('col-8');\n      var quantityInputContainer = document.createElement('div');\n      quantityInputContainer.classList.add('col-4');\n\n      var productNumberInputField = this._createInputField(this._productNumberFieldName(index), this._productNumberFieldPlaceholder, 'text', productNumberValue);\n\n      var quantityInputField = this._createInputField(this._quantityFieldName(index), this._quantityFieldPlaceholder, 'text', quantityValue);\n\n      productNumberInputContainer.append(productNumberInputField);\n      quantityInputContainer.append(quantityInputField);\n      rowContainer.append(productNumberInputContainer, quantityInputContainer);\n      return rowContainer;\n    }\n  }, {\n    key: \"_createInputField\",\n    value: function _createInputField(name, placeholder) {\n      var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'text';\n      var initialValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n      var formGroup = document.createElement('div');\n      formGroup.classList.add('form-group', 'mb-0');\n      var input = document.createElement('input');\n      input.classList.add('form-control');\n      input.type = type;\n      input.id = name;\n      input.name = name;\n      input.value = initialValue;\n      input.placeholder = placeholder;\n      input.addEventListener('input', this._inputInputCallback);\n      formGroup.append(input);\n      return formGroup;\n    }\n  }]);\n\n  return FormRowHandler;\n}();\n\n_defineProperty(FormRowHandler, \"ROW_CONTAINER_CLASS\", 'order-list-row-container');\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZitmdi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvcGx1Z2luL2Zhc3Qtb3JkZXItYWRqdXN0YWJsZS1mb3JtL2Zvcm0tcm93LWhhbmRsZXIuanM/YmNhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtUm93SGFuZGxlciB7XG5cbiAgICBzdGF0aWMgUk9XX0NPTlRBSU5FUl9DTEFTUyA9ICdvcmRlci1saXN0LXJvdy1jb250YWluZXInO1xuXG4gICAgY29uc3RydWN0b3IocHJvZHVjdE51bWJlckZpZWxkUGxhY2Vob2xkZXIsIHF1YW50aXR5RmllbGRQbGFjZWhvbGRlciwgcHJvZHVjdE51bWJlckZpZWxkTmFtZVNjaGVtYSwgcXVhbnRpdHlGaWVsZE5hbWVTY2hlbWEsIGlucHV0Q2hhbmdlZENhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3Byb2R1Y3ROdW1iZXJGaWVsZFBsYWNlaG9sZGVyID0gcHJvZHVjdE51bWJlckZpZWxkUGxhY2Vob2xkZXI7XG4gICAgICAgIHRoaXMuX3F1YW50aXR5RmllbGRQbGFjZWhvbGRlciA9IHF1YW50aXR5RmllbGRQbGFjZWhvbGRlcjtcblxuICAgICAgICB0aGlzLl9wcm9kdWN0TnVtYmVyRmllbGROYW1lID0gaW5kZXggPT4gcHJvZHVjdE51bWJlckZpZWxkTmFtZVNjaGVtYS5yZXBsYWNlKC9cXCRpLywgaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuX3F1YW50aXR5RmllbGROYW1lID0gaW5kZXggPT4gcXVhbnRpdHlGaWVsZE5hbWVTY2hlbWEucmVwbGFjZSgvXFwkaS8sIGluZGV4LnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIHRoaXMuX2lucHV0SW5wdXRDYWxsYmFjayA9IGlucHV0Q2hhbmdlZENhbGxiYWNrO1xuICAgIH1cblxuICAgIGNyZWF0ZUZvcm1Sb3coaW5kZXgsIHByb2R1Y3ROdW1iZXJWYWx1ZSA9ICcnLCBxdWFudGl0eVZhbHVlID0gJycpIHtcbiAgICAgICAgY29uc3Qgcm93Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJvd0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKEZvcm1Sb3dIYW5kbGVyLlJPV19DT05UQUlORVJfQ0xBU1MsICdyb3cnLCAnbXQtMicpO1xuXG4gICAgICAgIGNvbnN0IHByb2R1Y3ROdW1iZXJJbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBwcm9kdWN0TnVtYmVySW5wdXRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29sLTgnKTtcblxuICAgICAgICBjb25zdCBxdWFudGl0eUlucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHF1YW50aXR5SW5wdXRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29sLTQnKTtcblxuICAgICAgICBjb25zdCBwcm9kdWN0TnVtYmVySW5wdXRGaWVsZCA9IHRoaXMuX2NyZWF0ZUlucHV0RmllbGQodGhpcy5fcHJvZHVjdE51bWJlckZpZWxkTmFtZShpbmRleCksIHRoaXMuX3Byb2R1Y3ROdW1iZXJGaWVsZFBsYWNlaG9sZGVyLCAndGV4dCcsIHByb2R1Y3ROdW1iZXJWYWx1ZSk7XG4gICAgICAgIGNvbnN0IHF1YW50aXR5SW5wdXRGaWVsZCA9IHRoaXMuX2NyZWF0ZUlucHV0RmllbGQodGhpcy5fcXVhbnRpdHlGaWVsZE5hbWUoaW5kZXgpLCB0aGlzLl9xdWFudGl0eUZpZWxkUGxhY2Vob2xkZXIsICd0ZXh0JywgcXVhbnRpdHlWYWx1ZSk7XG5cbiAgICAgICAgcHJvZHVjdE51bWJlcklucHV0Q29udGFpbmVyLmFwcGVuZChwcm9kdWN0TnVtYmVySW5wdXRGaWVsZCk7XG4gICAgICAgIHF1YW50aXR5SW5wdXRDb250YWluZXIuYXBwZW5kKHF1YW50aXR5SW5wdXRGaWVsZCk7XG5cbiAgICAgICAgcm93Q29udGFpbmVyLmFwcGVuZChwcm9kdWN0TnVtYmVySW5wdXRDb250YWluZXIsIHF1YW50aXR5SW5wdXRDb250YWluZXIpO1xuXG4gICAgICAgIHJldHVybiByb3dDb250YWluZXI7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUlucHV0RmllbGQobmFtZSwgcGxhY2Vob2xkZXIsIHR5cGUgPSAndGV4dCcsIGluaXRpYWxWYWx1ZSA9ICcnKSB7XG4gICAgICAgIGNvbnN0IGZvcm1Hcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBmb3JtR3JvdXAuY2xhc3NMaXN0LmFkZCgnZm9ybS1ncm91cCcsICdtYi0wJylcblxuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2Zvcm0tY29udHJvbCcpO1xuICAgICAgICBpbnB1dC50eXBlID0gdHlwZTtcbiAgICAgICAgaW5wdXQuaWQgPSBuYW1lO1xuICAgICAgICBpbnB1dC5uYW1lID0gbmFtZTtcbiAgICAgICAgaW5wdXQudmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG5cbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9pbnB1dElucHV0Q2FsbGJhY2spO1xuXG4gICAgICAgIGZvcm1Hcm91cC5hcHBlbmQoaW5wdXQpO1xuXG4gICAgICAgIHJldHVybiBmb3JtR3JvdXA7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7Ozs7OztBQXBEQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///f+fv\n");

/***/ }),

/***/ "nLef":
/*!****************************************************************************************!*\
  !*** /app/custom/plugins/FebfFastOrderPlugin/src/Resources/app/storefront/src/main.js ***!
  \****************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _plugin_fast_order_csv_upload_fast_order_csv_upload_plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./plugin/fast-order-csv-upload/fast-order-csv-upload.plugin */ \"d5GL\");\n/* harmony import */ var _plugin_fast_order_adjustable_form_fast_order_adjustable_form_plugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./plugin/fast-order-adjustable-form/fast-order-adjustable-form.plugin */ \"4lRj\");\n\n\nvar PluginManager = window.PluginManager;\nPluginManager.register('FastOrderCsvUploadPlugin', _plugin_fast_order_csv_upload_fast_order_csv_upload_plugin__WEBPACK_IMPORTED_MODULE_0__[\"default\"], '[data-fast-order-csv-upload-plugin]');\nPluginManager.register('FastOrderAdjustableFormPlugin', _plugin_fast_order_adjustable_form_fast_order_adjustable_form_plugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"], '[data-fast-order-adjustable-form-plugin]');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibkxlZi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vYXBwL2N1c3RvbS9wbHVnaW5zL0ZlYmZGYXN0T3JkZXJQbHVnaW4vc3JjL1Jlc291cmNlcy9hcHAvc3RvcmVmcm9udC9zcmMvbWFpbi5qcz80NzliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGYXN0T3JkZXJDc3ZVcGxvYWRQbHVnaW4gZnJvbSBcIi4vcGx1Z2luL2Zhc3Qtb3JkZXItY3N2LXVwbG9hZC9mYXN0LW9yZGVyLWNzdi11cGxvYWQucGx1Z2luXCI7XG5pbXBvcnQgRmFzdE9yZGVyQWRqdXN0YWJsZUZvcm1QbHVnaW4gZnJvbSAnLi9wbHVnaW4vZmFzdC1vcmRlci1hZGp1c3RhYmxlLWZvcm0vZmFzdC1vcmRlci1hZGp1c3RhYmxlLWZvcm0ucGx1Z2luJztcblxuY29uc3QgUGx1Z2luTWFuYWdlciA9IHdpbmRvdy5QbHVnaW5NYW5hZ2VyO1xuUGx1Z2luTWFuYWdlci5yZWdpc3RlcignRmFzdE9yZGVyQ3N2VXBsb2FkUGx1Z2luJywgRmFzdE9yZGVyQ3N2VXBsb2FkUGx1Z2luLCAnW2RhdGEtZmFzdC1vcmRlci1jc3YtdXBsb2FkLXBsdWdpbl0nKTtcblBsdWdpbk1hbmFnZXIucmVnaXN0ZXIoJ0Zhc3RPcmRlckFkanVzdGFibGVGb3JtUGx1Z2luJywgRmFzdE9yZGVyQWRqdXN0YWJsZUZvcm1QbHVnaW4sICdbZGF0YS1mYXN0LW9yZGVyLWFkanVzdGFibGUtZm9ybS1wbHVnaW5dJylcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///nLef\n");

/***/ })

},[["nLef","runtime","vendor-node","vendor-shared"]]]);